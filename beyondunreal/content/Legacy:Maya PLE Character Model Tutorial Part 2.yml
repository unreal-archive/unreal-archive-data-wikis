---
parse:
  title: "Legacy:Maya PLE Character Model Tutorial Part 2"
  text:
    text: "<p></p>\n<div id=\"toc\" class=\"toc\">\n<div id=\"toctitle\">\n<h2>Contents</h2>\n\
      </div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#Rigging_the_model\"\
      ><span class=\"tocnumber\">1</span> <span class=\"toctext\">Rigging the model</span></a>\n\
      <ul>\n<li class=\"toclevel-2 tocsection-2\"><a href=\"#Adding_IK_Handles\"><span\
      \ class=\"tocnumber\">1.1</span> <span class=\"toctext\">Adding IK Handles</span></a></li>\n\
      <li class=\"toclevel-2 tocsection-3\"><a href=\"#Binding_the_Skin\"><span class=\"\
      tocnumber\">1.2</span> <span class=\"toctext\">Binding the Skin</span></a></li>\n\
      </ul>\n</li>\n<li class=\"toclevel-1 tocsection-4\"><a href=\"#Discussion\"\
      ><span class=\"tocnumber\">2</span> <span class=\"toctext\">Discussion</span></a></li>\n\
      </ul>\n</div>\n<p></p>\n<h2><span class=\"mw-headline\" id=\"Rigging_the_model\"\
      >Rigging the model</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\"\
      >[</span><a href=\"/edit/Legacy:Maya_PLE_Character_Model_Tutorial_Part_2?section=1\"\
      \ title=\"Edit section: Rigging the model\">edit</a><span class=\"mw-editsection-bracket\"\
      >]</span></span></h2>\n<p>Time to add some bones. Unlike the UT2003 models,\
      \ this one will have a minimal rig, and that brings up a point about bone names\
      \ in character skeletons.</p>\n<p>As far as i know, the UT2003 characters were\
      \ modeled and rigged in 3DS Max, which provides a pre-fabbed skeletal rig known\
      \ as Biped as part of Character Studio. The bones in Biped are already named,\
      \ and the game engine references these bone names in a number of ways, either\
      \ directly or through assigned aliases.</p>\n<p>But – and this is an important\
      \ caveat for custom model builders – the Max bone names are not absolute requirements.\
      \ Bones can be be named as suits the modeler/animator, as long as the game engine\
      \ is properly informed about what bone names are actually used. That being said,\
      \ it would obviously simplify the process of creating a custom character to\
      \ use the Biped rig and its bone names, but for any except two-legged humanoids,\
      \ Biped is inappropriate.</p>\n<p>For this tutorial, custom bone names will\
      \ be used, both to differentiate between Biped bones and the Maya PLE character's,\
      \ and so the process of identifying custom bone names to the engine when necessary\
      \ can be illustrated. Maya PLE has no pre-assembled rigs, so one has to be constructed.</p>\n\
      <p>18. Switch to the Animation editor. Select the <b>IK Joint Tool</b> from\
      \ the Shelf, or in the main menu use <b>Skeleton&gt;Joint Tool</b>. For this\
      \ tutorial we're using the default tool options for the Joint Tool, so opening\
      \ the OPTIONS dialog isn't necessary. Make sure Snap to Grids is still enabled.</p>\n\
      <p>Switch the workspace to an orthographic Front view.</p>\n<p>19. Place the\
      \ tool pointer at the workspace origin, click, move the pointer to Y=1, click,\
      \ then hit Enter. This creates the first 2 joints and one bone. Press <b>g</b>\
      \ (lower case) to get the Joint Tool back, then click again at the origin, then\
      \ click at Y= -0.5. Hit Enter, creating a third joint. (see \"NOTE\" after step\
      \ 22 for explanation of why values in the channel box change)</p>\n<p>20. Open\
      \ Outliner (main menu <b>Window&gt;Outliner</b>) and expand the hierarchy (click\
      \ the + sign) at <i>joint1</i>. You should see <i>joint2</i> and <i>joint3</i>\
      \ in the tree. Rename <i>joint1</i> to <i>RootBone</i>. This bone is the top\
      \ of the skeleton hierarchy for the model.</p>\n<p><i><b>HINTS:</b></i> Use\
      \ Outliner for selecting joints and bones in the rigging process; it's much\
      \ easier than trying to pick them out in the viewport. For better joint &amp;\
      \ bone visibility, use <b>Display&gt;Joint Size&gt;</b> to enlarge them in the\
      \ workspaces.</p>\n<p>21. Rename <i>joint2</i> to <i>Spine01</i>. Rename <i>joint3</i>\
      \ to <i>Pelvis</i>. These two joints will gain bones later.</p>\n<p>You may\
      \ note that Maya PLE labels the skeleton parts as joints, and we're renaming\
      \ them as bones. In Maya PLE, bones are always associated with a joint, so we're\
      \ essentially renaming the pair of objects. Joints can exist without bones,\
      \ however, so some joints (such as those at the ends of skeletal hierarchies)\
      \ may not be renamed.</p>\n<p>Time for a progress check. Compare FIG 5 with\
      \ what you have in your scene.</p>\n<div class=\"center\">\n<div class=\"floatnone\"\
      ><a href=\"/File:Legacy_MCMT-05-FirstBones.gif\" class=\"image\" title=\"FIG\
      \ 5. RootBone, Spine01 and Pelvis\"><img alt=\"FIG 5. RootBone, Spine01 and\
      \ Pelvis\" src=\"/w/images/Legacy_MCMT-05-FirstBones.gif\" width=\"320\" height=\"\
      320\" /></a></div>\n</div>\n<p>22. Use the <b>IK Joint Tool</b> to create a\
      \ joint at the top of <i>R_thigh</i>, X= -3, Y= -0.5, then at the knee Y= [-11],\
      \ then at the bottom of the calf Y= [-12].</p>\n<p>NOTE: The bracketed values\
      \ indicate what shows in the Channel Box during this process – they are relative\
      \ to the parent joint of the joint being created, not to world space. To make\
      \ things a bit more confusing, the Y value can become an X value once the LMB\
      \ is release to form the joint, and can change sign as well. This is normal.</p>\n\
      <p>23. Select the joint at the top of <i>R_thigh</i> and rename it <i>R_thighBone</i>.\
      \ Select the joint at the top of <i>R_calf</i> and rename it <i>R_calfBone</i>.</p>\n\
      <p>24. Duplicate <i>R_thighBone</i>. As a child of <i>R_thighBone</i>, <i>R_calfBone</i>\
      \ will also be duplicated, preserving the hierarchy in the duplicate. Rename\
      \ the duplicate of <i>R_thighBone</i> to <i>L_thighBone</i>, and its child to\
      \ <i>L_calfBone</i>.</p>\n<p>25. Select (in this order) <i>R_thighBone</i>,\
      \ then the joint named <i>Pelvis</i>. In the main menu use <b>Skeleton&gt;Connect\
      \ Joint&gt;OPTIONS</b>, make sure the Parent Joint radio button is enabled in\
      \ the dialog that opens, and click Apply. A new bone now connects <i>R_thighBone</i>\
      \ and the <i>Pelvis</i> joint. This is the first half of a complete <i>Pelvis</i>\
      \ bone.</p>\n<p>26. Select (in this order) <i>L_thighBone</i>, then <i>Pelvis</i>,\
      \ and in the Connect Joint Options dialog, once again click Apply.</p>\n<p>This\
      \ completes the lower-body hierarchy for this simplified skeleton and model.\
      \ Expand the hierarchy tree in Outliner to see the parent/child relationships\
      \ of the various bones, noting that <i>RootBone</i> is now at the top of the\
      \ tree. Check FIG 6 to confirm the model's progress so far.</p>\n<div class=\"\
      center\">\n<div class=\"floatnone\"><a href=\"/File:Legacy_MCMT-06-LwrSkeleton.gif\"\
      \ class=\"image\" title=\"FIG 6. The skeleton's lower half\"><img alt=\"FIG\
      \ 6. The skeleton's lower half\" src=\"/w/images/Legacy_MCMT-06-LwrSkeleton.gif\"\
      \ width=\"320\" height=\"439\" /></a></div>\n</div>\n<p>27. To build the spine,\
      \ select the <b>IK Joint Tool</b>, click on the joint <i>Spine01</i>, then place\
      \ 3 more joints above it at [6], [6] and [4]. The last of the 3 should be placed\
      \ at the top of the <i>torso</i> cylinder (FIG 7). Hit Enter to create the hierarchy.</p>\n\
      <div class=\"center\">\n<div class=\"floatnone\"><a href=\"/File:Legacy_MCMT-07-SpineBones.gif\"\
      \ class=\"image\" title=\"FIG 7. Positioning the spine bones\"><img alt=\"FIG\
      \ 7. Positioning the spine bones\" src=\"/w/images/Legacy_MCMT-07-SpineBones.gif\"\
      \ width=\"320\" height=\"559\" /></a></div>\n</div>\n<p>28. Rename the spine\
      \ joints in Outliner, moving up from <i>Spine01</i>, as <i>Spine02</i>, <i>Spine03</i>,\
      \ and <i>Clavicle</i>. <i>Clavicle</i> has no bone yet.</p>\n<p>29. Arm bones\
      \ next. As with the leg bones, we'll create a two-bone hierarchy first, then\
      \ connect it to the <i>Clavicle</i> joint.</p>\n<p>Starting at the top center\
      \ of cylinder <i>R_arm</i>, use the <b>IK Joint Tool</b> to create joints at\
      \ the shoulder, elbow, and wrist, making sure the joints are aligned vertically,\
      \ then hit Enter to set the hierarchy. Rename the joints created to <i>R_armBone</i>\
      \ and <i>R_4armBone</i> – which is which should be obvious. The end joint need\
      \ not be renamed.</p>\n<p>When finished, select <i>R_armBone</i> and confirm\
      \ that it's positioned at X= -7.0, Y=17.0</p>\n<p>30. Duplicate <i>R_armBone</i>\
      \ and move it to x=7.0, then rename the duplicate hierarchy appropriately for\
      \ the left arm.</p>\n<p>NOTE: Joint names in different hierarchies can be identical\
      \ if the parent joints have different names, so for clarity, renaming <i>all</i>\
      \ duplicated joints to avoid duplicate names is recommended.</p>\n<p>31. Next\
      \ select (in order) <i>R_armBone</i> and <i>Clavicle</i>, then connect them\
      \ in the same manner as with the leg bones and <i>Pelvis</i>. Repeat the connect\
      \ process with <i>L_armBone</i> and <i>Clavicle</i>. (FIG 8)</p>\n<div class=\"\
      center\">\n<div class=\"floatnone\"><a href=\"/File:Legacy_MCMT-08-UpperBones.gif\"\
      \ class=\"image\" title=\"FIG 8. The upper body bones\"><img alt=\"FIG 8. The\
      \ upper body bones\" src=\"/w/images/Legacy_MCMT-08-UpperBones.gif\" width=\"\
      524\" height=\"641\" /></a></div>\n</div>\n<p>32. To complete the upper body\
      \ hierarchy, it's now necessary to create and connect a neck joint and bone.\
      \ Create a joint just above <i>Clavicle</i>, at Y=17.5, and another at [5],\
      \ then hit Enter. Rename the resulting bone as <i>Neck</i>.</p>\n<p>33. Select\
      \ <i>Neck</i>, then <i>Clavicle</i>, and connect as before.</p>\n<p>The skeleton\
      \ is now complete. Check the layout in the viewports and the hierarchy in Outliner\
      \ and confirm that they look like FIg 9.</p>\n<div class=\"center\">\n<div class=\"\
      floatnone\"><a href=\"/File:Legacy_MCMT-09-AllBones.gif\" class=\"image\" title=\"\
      FIG 9. Front view of the complete skeleton\"><img alt=\"FIG 9. Front view of\
      \ the complete skeleton\" src=\"/w/images/Legacy_MCMT-09-AllBones.gif\" width=\"\
      237\" height=\"625\" /></a></div>\n</div>\n<p>34. The X and Y positions of the\
      \ joints are set, but some Z-axis tweaks are needed to align the rig with the\
      \ polymesh \"skin.\"</p>\n<p>Switch to ortho Side view, select the joints one-by-one,\
      \ and use the Move tool + Insert to adjust the joints in Z so they align with\
      \ the centers of the polymesh limbs and torso (FIG 10). Be sure to use Insert\
      \ to have the joints move independently of the skeletal hierarchy.</p>\n<p>35.\
      \ The spine is a special case. Maya PLE's IK solvers limit the extent a joint\
      \ can flex, so for spine-like flexibility, the joint/bone system needs at least\
      \ a couple of segments, and they have to be set up to flex in opposite directions.\
      \ FIG 10 illustrates appropriate positioning for the spine segments – copy the\
      \ shallow \"zig-zag\" orientation shown. The reason for this will become apparent\
      \ when IK Handles are applied to the rig.</p>\n<div class=\"center\">\n<div\
      \ class=\"floatnone\"><a href=\"/File:Legacy_MCMT-10-ZAxisTweaks.gif\" class=\"\
      image\" title=\"FIG 10. Two views of the final skeleton\"><img alt=\"FIG 10.\
      \ Two views of the final skeleton\" src=\"/w/images/Legacy_MCMT-10-ZAxisTweaks.gif\"\
      \ width=\"405\" height=\"729\" /></a></div>\n</div>\n<p>Keep in mind that this\
      \ is a very rudimentary skeletal rig, suitable for this tutorial but not for\
      \ a fully useable character. Study the UT2003 character rigs in the Animation\
      \ browser, and other skeletal animation examples you can search out in the Maya\
      \ documentation and on the web, for examples of fully-developed bone rigs.</p>\n\
      <p>36. To preserve this orientation of the skeleton, select <i>RootBone</i>.\
      \ In the <b>Command Line</b> field, enter the MEL command string <tt>select\
      \ -hi</tt> and hit Enter. <tt>select -hi</tt> tells Maya PLE to select all objects\
      \ in the hierarchy below <i>RootBone</i>, i.e., all the joints &amp; bones.\
      \ MEL (Maya Embedded Language) commands are case-sensitive, so type it exactly.</p>\n\
      <p>Use <b>Skeleton&gt;Set Preferred Angle</b> in the main menu. This \"records\"\
      \ the orientation of all the selected joints so they can be reset later with\
      \ the <b>Skeleton&gt;Assume Preferred Angle</b> menu item.</p>\n<h3><span class=\"\
      mw-headline\" id=\"Adding_IK_Handles\">Adding IK Handles</span><span class=\"\
      mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/edit/Legacy:Maya_PLE_Character_Model_Tutorial_Part_2?section=2\"\
      \ title=\"Edit section: Adding IK Handles\">edit</a><span class=\"mw-editsection-bracket\"\
      >]</span></span></h3>\n<p>A skeletal hierarchy by itself is just a bag o' bones:\
      \ unless you're planning to use only FK to animate it (not the usual method),\
      \ IK Handles must be added to connect certain joint/bone pairs. If you're not\
      \ too clear on the difference between Inverse Kinematic (IK) and Forward Kinematics\
      \ (FK), no worries, for this tute a complete understanding isn't necessary.\
      \ More info at <a href=\"http://en.wikipedia.org/wiki/Inverse_kinematic_animation\"\
      \ class=\"extiw\" title=\"wikipedia:Inverse kinematic animation\">Wikipedia:Inverse\
      \ kinematic animation</a></p>\n<p>37. First the workspace has to be cleared\
      \ of stuff not needed for now. In the main menu use <b>Display&gt;Hide&gt;Geometry&gt;Polygon\
      \ Surfaces</b> to hide the polymesh cylinders so joints can be easily selected\
      \ with the pointer. Switch to a perspective viewport.</p>\n<p>38. Start with\
      \ the legs. Select the <b>IK Handle</b> tool, click on <i>joint'n'</i> ('n'\
      \ is a number) at the end of the right leg joint/bone chain, then click on joint\
      \ <i>R_thighBone</i>. The leg bones will change color, selection handles appear,\
      \ and the two joints are connected by a line, the handle vector.</p>\n<p>39.\
      \ In like fashion, create an IK Handle connecting <i>joint'n'</i> at the end\
      \ of the left leg bone and <i>L_thighBone</i>.</p>\n<p>40. Create the arm bone\
      \ IK Handles, connecting <i>joint'n'</i> at the end of each chain to its respective\
      \ shoulder joint. Then use <b>Edit&gt;Select All by Type&gt;IK Handles</b> and\
      \ compare your rig to FIG 11.</p>\n<div class=\"center\">\n<div class=\"floatnone\"\
      ><a href=\"/File:Legacy_MCMT-11-LimbsIK.gif\" class=\"image\" title=\"FIG 11.\
      \ IK handles added to legs and arms\"><img alt=\"FIG 11. IK handles added to\
      \ legs and arms\" src=\"/w/images/Legacy_MCMT-11-LimbsIK.gif\" width=\"229\"\
      \ height=\"615\" /></a></div>\n</div>\n<p>Save your file now. Time to play with\
      \ the IK rig a bit before proceeding, and progress so far should be saved in\
      \ case reverting to this point is necessary.</p>\n<p>Select an IK handle and\
      \ move it around, testing the range of motion it offers. Note that the joint\
      \ the IK handle controls cannot be \"hyperextended\" – flexed past a point where\
      \ the joint/bone chain aligns with the handle vector line. While this is fine\
      \ for joints like elbows and knees, it complicates structures like the spine,\
      \ which has to flex with much greater freedom.</p>\n<p>When you're ready to\
      \ proceed, select the entire skeleton as described in 36. above, then use <b>Skeleton&gt;Assume\
      \ Preferred Angle</b> to get your rig back in the \"default\" position. If this\
      \ fails for some reason (it can occasionally fail with more complex rigs), just\
      \ reopen the file without saving changes.</p>\n<p>41. Connect <i>Spine01</i>\
      \ and <i>Spine03</i> with an IK Handle.</p>\n<p>42. Connect <i>Spine02</i> and\
      \ <i>Clavicle</i> with an IK Handle. The character's IK controls are now rigged.</p>\n\
      <p>43. Rename the IK handles according to the bones they control – see FIG 12.</p>\n\
      <div class=\"center\">\n<div class=\"floatnone\"><a href=\"/File:Legacy_MCMT-12-IKHnames.gif\"\
      \ class=\"image\" title=\"FIG 12. IK Handle names\"><img alt=\"FIG 12. IK Handle\
      \ names\" src=\"/w/images/Legacy_MCMT-12-IKHnames.gif\" width=\"248\" height=\"\
      587\" /></a></div>\n</div>\n<p>Again take a few minutes to \"exercise\" the\
      \ model using the IK handles. Gain some familiarity with the motion capabilities\
      \ and limits, particularly the spine, which often requires manipulating more\
      \ than one handle simultaneously to attain a desired position.</p>\n<p>Once\
      \ more it needs to be stated that this tutorial uses a VERY rudimentary model,\
      \ with simple geometry and a simple IK rig (skeleton + IK handles). For a more\
      \ complex model, the rigging is quite a bit more elaborate, as a review of the\
      \ UT2003 models' skeletons will reveal.</p>\n<p>NOTE: There may also be significant\
      \ differences in how Max &amp; Maya deal with Inverse Kinematics that will result\
      \ in IK rigs that differ in detail, so using Maya PLE to \"copy\" a skeleton\
      \ built in Max may not be successful without adaptation.</p>\n<h3><span class=\"\
      mw-headline\" id=\"Binding_the_Skin\">Binding the Skin</span><span class=\"\
      mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/edit/Legacy:Maya_PLE_Character_Model_Tutorial_Part_2?section=3\"\
      \ title=\"Edit section: Binding the Skin\">edit</a><span class=\"mw-editsection-bracket\"\
      >]</span></span></h3>\n<p>This process \"attaches\" the polymesh objects of\
      \ the character model to the IK rig so that the rig controls the motion of the\
      \ polymesh, which is the only visible part of the model in-game.</p>\n<p>44.\
      \ Use <b>Display&gt;Show&gt;Show Geometry&gt;Polygon Surfaces</b> to make the\
      \ model's meshes visible again. Use <b>Display&gt;Hide&gt;Hide Kinematics&gt;All</b>\
      \ to hide the IK rig for now while some more modeling is done.</p>\n<p>45. Looking\
      \ at Outliner, the scene now has 11 polymesh objects listed. These have to be\
      \ made into a single polymesh for binding as a skin. Switch to the <b>Modeling</b>\
      \ editor, then select all the cylinders comprising the model.</p>\n<p>46. Use\
      \ <b>Polygons&gt;Combine</b> in the main menu. Outliner now shows a single polymesh\
      \ object (<i>polySurface'n'</i> ). Rename this object <i>SkinMesh</i>.</p>\n\
      <p>Note that in Outliner, things are getting complicated, as it still displays\
      \ the names of the previously separate cylinder objects (FIG 13). These are\
      \ part of the \"history\" of the polygon mesh we've been working with. They're\
      \ not needed, so delete them by selecting <i>SkinMesh</i> and using <b>Edit&gt;Delete\
      \ by Type&gt;History</b> in the main menu.</p>\n<div class=\"center\">\n<div\
      \ class=\"floatnone\"><a href=\"/File:Legacy_MCMT-13-History.gif\" class=\"\
      image\" title=\"FIG 13. The combined polymesh's history in Outliner\"><img alt=\"\
      FIG 13. The combined polymesh's history in Outliner\" src=\"/w/images/Legacy_MCMT-13-History.gif\"\
      \ width=\"248\" height=\"604\" /></a></div>\n</div>\n<p>47. Switch back to the\
      \ <b>Animation</b> editor and make the IK rig visible again with <b>Display&gt;Show&gt;Show\
      \ Kinematics&gt;All</b>.</p>\n<p>48. In Outliner, select <i>SkinMesh</i>, then\
      \ Ctrl+select <i>RootBone</i> to add it to the selection.</p>\n<p>49. In the\
      \ main menu, use <b>Skin&gt;Bind Skins&gt;Smooth Bind&gt;OPTIONS</b> to open\
      \ the Smooth Bind Options dialog. Enter the settings shown in FIG 14 and click\
      \ Bind Skin. <i>SkinMesh</i> will change color, indicating it is now bound to\
      \ the IK rig.</p>\n<div class=\"center\">\n<div class=\"floatnone\"><a href=\"\
      /File:Legacy_MCMT-14-BindSkinSpecs.gif\" class=\"image\" title=\"FIG 14. The\
      \ Smooth Bind options to use\"><img alt=\"FIG 14. The Smooth Bind options to\
      \ use\" src=\"/w/images/Legacy_MCMT-14-BindSkinSpecs.gif\" width=\"559\" height=\"\
      308\" /></a></div>\n</div>\n<p>50. Select an IK handle and move it – <i>SkinMesh</i>\
      \ moves with it. If things look wrong in some places, it's OK, it'll be fixed\
      \ in a moment.</p>\n<p>51. After binding, the position of the IK rig + skin\
      \ is \"recorded\" as the Bind Pose. If while moving the model around you manage\
      \ to \"lock\" it into a distorted pose that can't be undone (it can happen with\
      \ extreme poses), select any part of the skeleton and use <b>Skin&gt;Go to Bind\
      \ Pose</b> to recover.</p>\n<p>You may note that some parts of <i>SkinMesh</i>\
      \ move inappropriately, like parts of the torso moving with the arms. This is\
      \ due to the binding method used (Closest Joint), and can be fixed in a number\
      \ of ways. The usual method is to bind the skin in a different pose where the\
      \ bones and skin sections are more widely separated. This is one reason the\
      \ reference pose for many models is the \"T-bone\" – arms-straight-out-from-the-shoulders.</p>\n\
      <p>52. Select <i>SkinMesh</i> in Outliner and use <b>Skin&gt;Detach Skin&gt;OPTIONS</b>\
      \ to open the dialog. Choose the Delete History option, then click Detach. <i>SkinMesh</i>\
      \ is no longer bound to the IK rig.</p>\n<p>53. Hide the Kinematics (IK rig)\
      \ as before, and switch to the Modeling editor. With <i>SkinMesh</i> selected,\
      \ use <b>Edit Polygons&gt;Separate</b>. In Outliner, <i>SkinMesh</i> changes\
      \ to a Group item (different icon), and the individual cylinders of the model\
      \ are listed as group members (with new names, unfortunately, but that's not\
      \ critical at this point).</p>\n<p>54. Using an ortho front viewport, select\
      \ the 2 cylinders of the right arm, then select the Rotate Tool. The pivot is\
      \ at the origin, and will have to be moved to the \"shoulder\" position, so\
      \ use Insert and move it to the top center of the right upper arm cylinder (FIG\
      \ 15). Make sure Snap to Grids is enabled to insure accurate positioning of\
      \ the pivot.</p>\n<div class=\"center\">\n<div class=\"floatnone\"><a href=\"\
      /File:Legacy_MCMT-15-PlacePivot.gif\" class=\"image\" title=\"FIG 15. Place\
      \ the pivot at the top center of the &quot;shoulder&quot;\"><img alt=\"FIG 15.\
      \ Place the pivot at the top center of the &quot;shoulder&quot;\" src=\"/w/images/Legacy_MCMT-15-PlacePivot.gif\"\
      \ width=\"287\" height=\"457\" /></a></div>\n</div>\n<p>55. Hit Insert again\
      \ to disable \"move pivot\" mode, then rotate the two selected cylinders -90\
      \ degrees on the Z axis so they point straight out from the torso (FIG 16).\
      \ This can be done with the manipulator (hard to get exactly 90 degrees), or\
      \ by entering Rotate Z= -90 in the Channel Box.</p>\n<div class=\"center\">\n\
      <div class=\"floatnone\"><a href=\"/File:Legacy_MCMT-16-RotateArm.gif\" class=\"\
      image\" title=\"FIG 16. Rotating the arm\"><img alt=\"FIG 16. Rotating the arm\"\
      \ src=\"/w/images/Legacy_MCMT-16-RotateArm.gif\" width=\"655\" height=\"181\"\
      \ /></a></div>\n</div>\n<p>56. To complete the \"T-bone\" pose, re-align the\
      \ left arm cylinders in like fashion. The rotation for these will be Rotate\
      \ Z=90.</p>\n<p>57. Select All and use <b>Polygons&gt;Combine</b>, then use\
      \ <b>Edit&gt;Delete by Type&gt;History</b> to clear the unnecessary items from\
      \ Outliner. Rename the combined polymesh as <i>SkinMesh</i>.</p>\n<p>58. Show\
      \ the IK rig. Make sure Snap to Grids is enabled. Select <i>ikHandle_R_arm</i>\
      \ and move the arm bones so they line up with the center of the right arm cylinders\
      \ (FIG 17). Align the left arm bones to the left arm mesh in similar fashion.\
      \ Switch to ortho Top view to confirm the bone alignment along the centers of\
      \ the cylinders (FIG 17).</p>\n<div class=\"center\">\n<div class=\"floatnone\"\
      ><a href=\"/File:Legacy_MCMT-17-IKHrealign.gif\" class=\"image\" title=\"FIG\
      \ 17. Realigning the skeleton using the IK handles\"><img alt=\"FIG 17. Realigning\
      \ the skeleton using the IK handles\" src=\"/w/images/Legacy_MCMT-17-IKHrealign.gif\"\
      \ width=\"757\" height=\"341\" /></a></div>\n</div>\n<p>59. Switch to the Animation\
      \ editor. In Outliner, select <i>SkinMesh</i>, Ctrl-select <i>RootBone</i>,\
      \ and use <b>Skin&gt;Bind Skin&gt;Smooth Bind</b> to once again attach the skin\
      \ to the IK rig. The options are preserved from the last Smooth Bind, so the\
      \ dialog isn't needed this time.</p>\n<p>Move the IK handles around – the previous\
      \ inappropriate skin moves are gone. Near the joints, the skin deformation influenced\
      \ by the joints is obvious, but that's normal (and desirable for models where\
      \ the entire body is a single continuous mesh).</p>\n<p>At this point it's possible\
      \ to proceed with animating the character, but it's also a good time to use\
      \ one of Maya's coolest character modeling features (imho, of course), the <b>Paint\
      \ Skin Weights Tool</b> (PSWT).</p>\n<p>\"Skin weights\" refers to the amount\
      \ of influence any joint/bone has over any single vertex in the polygon mesh\
      \ bound to a skeleton. Some apps use numerical data entry to fine tune this\
      \ value, and in Maya PLE that's also an option, but I find it tedious and inefficient.\
      \ The Paint Skin Weights tool does the same task with a \"paint brush\" applied\
      \ directly to the model.</p>\n<p>60. Switch the viewport Shading from Wireframe\
      \ to Smooth Shade All. Use Display&gt;Grid to toggle the viewport grid off.\
      \ Switch to a perspective viewport.</p>\n<p>61. Select <i>SkinMesh</i>. Use\
      \ <b>Skin&gt;Edit Smooth Skin&gt;Paint Skin Weights Tool&gt;OPTIONS</b> to open\
      \ the appropriate dialog. <i>SkinMesh</i> will turn from shaded grey to flat\
      \ black, with some grey perhaps visible in a small patch or patches.</p>\n<p>62.\
      \ In the Paint Skin Weights Tool dialog, the Brush, Influence and Paint Weights\
      \ sections should be revealed.</p>\n<p>Note the listing of bone names (called\
      \ Transforms in the dialog). When a bone is selected in this list, the amount\
      \ of influence it has on a skin mesh is displayed on the model by a shade of\
      \ grey – the brighter the grey, the more the influence, up to 1.0 = white =\
      \ 100% influence.</p>\n<p>The Brush section is fairly self-explanatory. The\
      \ defaults are OK for now. In the Paint Weights section, the 2 operations of\
      \ greatest interest are Scale and Add.</p>\n<p>Scale reduces the influence by\
      \ multiplying the current influence by the number in the Value field. A Scale\
      \ Value of 0 removes all influence.</p>\n<p>Value is added to the influence\
      \ when Add is enabled.</p>\n<p>Replace changes the influence to Value.</p>\n\
      <p>Smooth is more valuable on high-poly models where vertices are closely spaced.\
      \ It evens the distribution of skin weight Values in a painted area.</p>\n<p>Skin\
      \ weights are normalized, meaning the influences on any vertex from any number\
      \ of joints must always add up to no more than 1.0.</p>\n<p>63. Before painting,\
      \ use <b>Skin&gt;Edit Smooth Skin&gt;Enable Weight Normalization</b> to have\
      \ Maya PLE automatically normalize the influences on vertices during painting.</p>\n\
      <p>In the PSWT dialog, reveal the Display section and check the Show Wireframe\
      \ checkbox. For low-poly models this makes it easier to identify the vertex\
      \ locations when painting.</p>\n<p>64. In the Transforms list (the bone names),\
      \ select <i>R_armBone</i>. The model is \"illuminated\" to show the extent of\
      \ influence this bone has on the skin. Note the fade to grey at the ends of\
      \ the upper arm cylinder – in most models, areas near joints have shared influence\
      \ (FIG 18). Select <i>R_4armBone</i> in the PSWT Transforms list and note a\
      \ similar weight distribution. At the joint, total influence is 1.0, but it's\
      \ shared by the two bones. You're about to change that.</p>\n<div class=\"center\"\
      >\n<div class=\"floatnone\"><a href=\"/File:Legacy_MCMT-18-SkinWeights.gif\"\
      \ class=\"image\" title=\"FIG 18. Shared skin weights near the elbow joint\"\
      ><img alt=\"FIG 18. Shared skin weights near the elbow joint\" src=\"/w/images/Legacy_MCMT-18-SkinWeights.gif\"\
      \ width=\"499\" height=\"315\" /></a></div>\n</div>\n<p>The character looks\
      \ a bit like it's been assembled from tin cans, so he's now officially dubbed\
      \ \"TinCanMan.\" But tin cans are rigid, so the shared influences at joints\
      \ cause flex in the skin \"cylinders\" that are unnatural for TinCanMan. This\
      \ is remedied by painting the skin weights to different values.</p>\n<p>65.\
      \ In the PSWT, select <i>R_armBone</i> and enable Add, set Value = 1.0. Paint\
      \ the \"elbow\" end of the upper arm section of <i>SkinMesh</i>, being sure\
      \ the brush passes over the vertices. The skin will turn white where the painted\
      \ weight is applied. Paint all sides of the elbow end of the upper arm cylinder.</p>\n\
      <p>66. Select Scale, set Value = 0. Paint the elbow section of the right forearm\
      \ segment of the mesh – it will turn from pale grey to flat black. All influence\
      \ from <i>R_armBone</i> has been removed from this portion of the mesh (FIG\
      \ 19).</p>\n<div class=\"center\">\n<div class=\"floatnone\"><a href=\"/File:Legacy_MCMT-19-PaintSkinWeights.gif\"\
      \ class=\"image\" title=\"FIG. 19 Painting the elbow joint skin weights\"><img\
      \ alt=\"FIG. 19 Painting the elbow joint skin weights\" src=\"/w/images/Legacy_MCMT-19-PaintSkinWeights.gif\"\
      \ width=\"669\" height=\"221\" /></a></div>\n</div>\n<p>Now select <i>R_4armBone</i>\
      \ in the Transforms list and note the changes to its influence. The auto-normalization\
      \ insures that the influence removed from <i>R_armBone</i> is added to <i>R_4armBone</i>.\
      \ Now flex the joint and note that the end of the cylinders near the joint are\
      \ no longer deformed – the \"tin cans\" now look rigid. Reactivate the PSWT\
      \ (which was disabled when the Move tool was chosen).</p>\n<p>Select <i>L_armBone</i>\
      \ in the PSWT list. Note that its influences match the initial values for its\
      \ counterpart on the right. This part of the mesh does not need to be painted\
      \ to match – there's a menu item for that.</p>\n<p>67. Use <b>Skin&gt;Edit Smooth\
      \ Skin&gt;Mirror Skin Weights&gt;OPTIONS</b>, and in the dialog enable Mirror\
      \ Axis YZ, leave Direction unchecked (or uncheck it). Click Mirror. The display\
      \ of skin weights on the model doesn't update immediately, so select <i>L_armBone</i>\
      \ again in the PSWT. The skin weight influences from <i>R_armBone</i> have been\
      \ mirrored across the YZ plane to <i>L_armBone</i>.</p>\n<p>68. Use the PSWT\
      \ techniques to modify the influences on the rest of the right side of the IK\
      \ rig, so TinCanMan's parts don't deform \"out of character.\"</p>\n<p>For the\
      \ torso segment of TinCanMan, <i>Spine02</i> should have full influence. For\
      \ the hips segment, <i>Spine01</i> should have full influence.</p>\n<p>Mirror\
      \ the changes to the left side, and the skin weight painting is done.</p>\n\
      <p>The PSWT is invaluable for tweaking the joints of \"real\" characters, because\
      \ the default weighting at joints usually leads to some unnatural deformation.\
      \ Using the PSWT judiciously can greatly increase the realism of characters,\
      \ particularly those with a single continuous skin mesh.</p>\n<p>BTW, the UT2K3\
      \ models use segmented body parts extensively– they are, to a certain degree,\
      \ just much more sophisticated \"TinCanCreatures.\"</p>\n<p>Practice using the\
      \ IK handles to manipulate TinCanMan, using <b>Skin&gt;Go to Bind Pose</b> to\
      \ \"reset\" his position.</p>\n<p>Time to create some <a href=\"/Legacy:Maya_PLE_Character_Model_Tutorial_Part_3\"\
      \ title=\"Legacy:Maya PLE Character Model Tutorial Part 3\">Animation</a> for\
      \ TinCanMan.</p>\n<h2><span class=\"mw-headline\" id=\"Discussion\">Discussion</span><span\
      \ class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a\
      \ href=\"/edit/Legacy:Maya_PLE_Character_Model_Tutorial_Part_2?section=4\" title=\"\
      Edit section: Discussion\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h2>\n\
      <p><b>Animus:</b> is it not easyer to use the mirror joint tool? image 5 is\
      \ confusing it says RootBone, Spine01 and Pelvis that means the middle one is\
      \ the spine? at 27 the tut says connect a new joint start at spine01&#160;?\
      \ also at 23 it says nothing about ranaming the joint for the foot.</p>\n<p><b>SuperApe:</b>\
      \ Q#1: It may indeed be easier to use the mirror joint tool; this may just be\
      \ a matter of preference on the part of the author to show the low-level steps\
      \ involved. Q#2: Yes. Q#3: Yes. Q#4: There is no foot. These are minor complaints\
      \ when weighed against scope and quality of the whole tutorial. Unless there\
      \ was a major problem (and I haven't found one in this tut), I wouldn't worry\
      \ about it.</p>\n<p><b>Animus:</b> yes your totaly right this tutorial is very\
      \ good i just wanted to make it clear.</p>\n<p><b>Dr. Freemanstein:</b> I am\
      \ experiencing big problems at step 49. I have Maya 7.0 PLE which does not share\
      \ the same options as the example dialogue box. In 7.0, the \"Bind To\" drop\
      \ down only has \"Joint Heirarchy\", \"Selected Joints\" and \"Object Heirarchy\"\
      . Also the \"Bind Method\" menu only has \"Closest in Heirarchy\" and \"Closest\
      \ Distance\". I have tried all possible combinations, but to no avail. Moving\
      \ the IK handles only moves the bones while the skin remains stationary! Anyone\
      \ figured this one out??</p>\n<p><b>SuperApe:</b> My educated guess is that\
      \ Bind \"Joint Heirarchy\" is the same as \"Complete Skeleton\" and that \"\
      Object Heirarchy\" is a new option. Also, I can guess that Bind Options \"Closest\
      \ in Heirarchy\" is the same as \"Closest Joint\" and that the syntax here changed\
      \ to acomodate the new \"Object Heirarchy\" option. As to why your Bind operation\
      \ is not working, I would make sure you are shift-selecting your Mesh and Root\
      \ joint in that order and that you see the Mesh color change once the Bind operation\
      \ is complete.&#160;:)</p>\n<p><b>angry:</b> Can anyone tell me how I attach\
      \ a weapon to this character to stop him firing from the RootBone??</p>\n<p><br\
      \ /></p>\n<p><br /></p>\n<hr />\n<p><a href=\"/Legacy:Maya_PLE_Character_Model_Tutorial\"\
      \ title=\"Legacy:Maya PLE Character Model Tutorial\">Maya PLE Character Model\
      \ Tutorial</a></p>\n\n<!-- \nNewPP limit report\nCPU time usage: 0.198 seconds\n\
      Real time usage: 0.613 seconds\nPreprocessor visited node count: 14/1000000\n\
      Preprocessor generated node count: 20/1000000\nPost‐expand include size: 0/2097152\
      \ bytes\nTemplate argument size: 0/2097152 bytes\nHighest expansion depth: 2/40\n\
      Expensive parser function count: 0/100\n-->\n\n<!-- \nTransclusion expansion\
      \ time report (%,ms,calls,template)\n100.00%    0.000      1 - -total\n-->\n\
      \n<!-- Saved in parser cache with key wiki:pcache:idhash:2127-0!*!0!!en!5!*\
      \ and timestamp 20221118155634 and revision id 10947\n -->\n"
  categories: []
  links:
  - ns: 100
    exists: true
    name: "Legacy:Maya PLE Character Model Tutorial"
  - ns: 100
    exists: true
    name: "Legacy:Maya PLE Character Model Tutorial Part 3"
  templates: []
  images:
  - "Legacy_MCMT-10-ZAxisTweaks.gif"
  - "Legacy_MCMT-18-SkinWeights.gif"
  - "Legacy_MCMT-17-IKHrealign.gif"
  - "Legacy_MCMT-13-History.gif"
  - "Legacy_MCMT-07-SpineBones.gif"
  - "Legacy_MCMT-15-PlacePivot.gif"
  - "Legacy_MCMT-05-FirstBones.gif"
  - "Legacy_MCMT-08-UpperBones.gif"
  - "Legacy_MCMT-11-LimbsIK.gif"
  - "Legacy_MCMT-06-LwrSkeleton.gif"
  - "Legacy_MCMT-19-PaintSkinWeights.gif"
  - "Legacy_MCMT-16-RotateArm.gif"
  - "Legacy_MCMT-09-AllBones.gif"
  - "Legacy_MCMT-14-BindSkinSpecs.gif"
  - "Legacy_MCMT-12-IKHnames.gif"
  externallinks: []
  sections:
  - toclevel: 1
    level: "2"
    line: "Rigging the model"
    number: "1"
    index: "1"
    fromtitle: "Legacy:Maya_PLE_Character_Model_Tutorial_Part_2"
    byteoffset: 0
    anchor: "Rigging_the_model"
  - toclevel: 2
    level: "3"
    line: "Adding IK Handles"
    number: "1.1"
    index: "2"
    fromtitle: "Legacy:Maya_PLE_Character_Model_Tutorial_Part_2"
    byteoffset: 8856
    anchor: "Adding_IK_Handles"
  - toclevel: 2
    level: "3"
    line: "Binding the Skin"
    number: "1.2"
    index: "3"
    fromtitle: "Legacy:Maya_PLE_Character_Model_Tutorial_Part_2"
    byteoffset: 12206
    anchor: "Binding_the_Skin"
  - toclevel: 1
    level: "2"
    line: "Discussion"
    number: "2"
    index: "4"
    fromtitle: "Legacy:Maya_PLE_Character_Model_Tutorial_Part_2"
    byteoffset: 23486
    anchor: "Discussion"
  displaytitle: "Legacy:Maya PLE Character Model Tutorial Part 2"
  iwlinks:
  - prefix: "wikipedia"
    url: "http://en.wikipedia.org/wiki/Inverse_kinematic_animation"
    name: "wikipedia:Inverse kinematic animation"
  wikitext:
    text: "==Rigging the model ==\n\nTime to add some bones. Unlike the UT2003 models,\
      \ this one will have a minimal rig, and that brings up a point about bone names\
      \ in character skeletons. \n\nAs far as i know, the UT2003 characters were modeled\
      \ and rigged in 3DS Max, which provides a pre-fabbed skeletal rig known as Biped\
      \ as part of Character Studio. The bones in Biped are already named, and the\
      \ game engine references these bone names in a number of ways, either directly\
      \ or through assigned aliases.\n\nBut &ndash; and this is an important caveat\
      \ for custom model builders &ndash; the Max bone names are not absolute requirements.\
      \ Bones can be be named as suits the modeler/animator, as long as the game engine\
      \ is properly informed about what bone names are actually used. That being said,\
      \ it would obviously simplify the process of creating a custom character to\
      \ use the Biped rig and its bone names, but for any except two-legged humanoids,\
      \ Biped is inappropriate.\n\nFor this tutorial, custom bone names will be used,\
      \ both to differentiate between Biped bones and the Maya PLE character's, and\
      \ so the process of identifying custom bone names to the engine when necessary\
      \ can be illustrated. Maya PLE has no pre-assembled rigs, so one has to be constructed.\n\
      \n18. Switch to the Animation editor. Select the '''IK Joint Tool''' from the\
      \ Shelf, or in the main menu use '''Skeleton>Joint Tool'''. For this tutorial\
      \ we're using the default tool options for the Joint Tool, so opening the OPTIONS\
      \ dialog isn't necessary. Make sure Snap to Grids is still enabled. \n\nSwitch\
      \ the workspace to an orthographic Front view.\n\n19. Place the tool pointer\
      \ at the workspace origin, click, move the pointer to Y=1, click, then hit Enter.\
      \ This creates the first 2 joints and one bone. Press '''g''' (lower case) to\
      \ get the Joint Tool back, then click again at the origin, then click at Y=\
      \ -0.5. Hit Enter, creating a third joint. (see \"NOTE\" after step 22 for explanation\
      \ of why values in the channel box change)\n\n20. Open Outliner (main menu '''Window>Outliner''')\
      \ and expand the hierarchy (click the + sign) at ''joint1''. You should see\
      \ ''joint2'' and ''joint3'' in the tree. Rename ''joint1'' to ''RootBone''.\
      \ This bone is the top of the skeleton hierarchy for the model.\n\n'''''HINTS:'''''\
      \ Use Outliner for selecting joints and bones in the rigging process; it's much\
      \ easier than trying to pick them out in the viewport. For better joint & bone\
      \ visibility, use '''Display>Joint Size>''' to enlarge them in the workspaces.\n\
      \n21. Rename ''joint2'' to ''Spine01''. Rename ''joint3'' to ''Pelvis''. These\
      \ two joints will gain bones later.\n\nYou may note that Maya PLE labels the\
      \ skeleton parts as joints, and we're renaming them as bones. In Maya PLE, bones\
      \ are always associated with a joint, so we're essentially renaming the pair\
      \ of objects. Joints can exist without bones, however, so some joints (such\
      \ as those at the ends of skeletal hierarchies) may not be renamed. \n\nTime\
      \ for a progress check. Compare FIG 5 with what you have in your scene.\n\n\
      [[Image:Legacy_MCMT-05-FirstBones.gif|center|FIG 5. RootBone, Spine01 and Pelvis]]\n\
      \n22. Use the '''IK Joint Tool''' to create a joint at the top of ''R_thigh'',\
      \ X= -3, Y= -0.5, then at the knee Y= [-11], then at the bottom of the calf\
      \ Y= [-12]. \n\nNOTE: The bracketed values indicate what shows in the Channel\
      \ Box during this process &ndash; they are relative to the parent joint of the\
      \ joint being created, not to world space. To make things a bit more confusing,\
      \ the Y value can become an X value once the LMB is release to form the joint,\
      \ and can change sign as well. This is normal.\n\n23. Select the joint at the\
      \ top of ''R_thigh'' and rename it ''R_thighBone''. Select the joint at the\
      \ top of ''R_calf'' and rename it ''R_calfBone''.\n\n24. Duplicate ''R_thighBone''.\
      \ As a child of ''R_thighBone'', ''R_calfBone'' will also be duplicated, preserving\
      \ the hierarchy in the duplicate. Rename the duplicate of ''R_thighBone'' to\
      \ ''L_thighBone'', and its child to ''L_calfBone''.\n\n25. Select (in this order)\
      \ ''R_thighBone'', then the joint named ''Pelvis''. In the main menu use '''Skeleton>Connect\
      \ Joint>OPTIONS''', make sure the Parent Joint radio button is enabled in the\
      \ dialog that opens, and click Apply. A new bone now connects ''R_thighBone''\
      \ and the ''Pelvis'' joint. This is the first half of a complete ''Pelvis''\
      \ bone.\n\n26. Select (in this order) ''L_thighBone'', then ''Pelvis'', and\
      \ in the Connect Joint Options dialog, once again click Apply.\n\nThis completes\
      \ the lower-body hierarchy for this simplified skeleton and model. Expand the\
      \ hierarchy tree in Outliner to see the parent/child relationships of the various\
      \ bones, noting that ''RootBone'' is now at the top of the tree. Check FIG 6\
      \ to confirm the model's progress so far.\n\n[[Image:Legacy_MCMT-06-LwrSkeleton.gif|center|FIG\
      \ 6. The skeleton's lower half]]\n\n27. To build the spine, select the '''IK\
      \ Joint Tool''', click on the joint ''Spine01'', then place 3 more joints above\
      \ it at [6], [6] and [4]. The last of the 3 should be placed at the top of the\
      \ ''torso'' cylinder (FIG 7). Hit Enter to create the hierarchy.\n\n[[Image:Legacy_MCMT-07-SpineBones.gif|center|FIG\
      \ 7. Positioning the spine bones]]\n\n28. Rename the spine joints in Outliner,\
      \ moving up from ''Spine01'', as ''Spine02'', ''Spine03'', and ''Clavicle''.\
      \ ''Clavicle'' has no bone yet.\n\n29. Arm bones next. As with the leg bones,\
      \ we'll create a two-bone hierarchy first, then connect it to the ''Clavicle''\
      \ joint. \n\nStarting at the top center of cylinder ''R_arm'', use the '''IK\
      \ Joint Tool''' to create joints at the shoulder, elbow, and wrist, making sure\
      \ the joints are aligned vertically, then hit Enter to set the hierarchy. Rename\
      \ the joints created to ''R_armBone'' and ''R_4armBone'' &ndash; which is which\
      \ should be obvious. The end joint need not be renamed. \n\nWhen finished, select\
      \ ''R_armBone'' and confirm that it's positioned at X= -7.0, Y=17.0\n\n30. Duplicate\
      \ ''R_armBone'' and move it to x=7.0, then rename the duplicate hierarchy appropriately\
      \ for the left arm.\n\nNOTE: Joint names in different hierarchies can be identical\
      \ if the parent joints have different names, so for clarity, renaming ''all''\
      \ duplicated joints to avoid duplicate names is recommended.\n\n31. Next select\
      \ (in order) ''R_armBone'' and ''Clavicle'', then connect them in the same manner\
      \ as with the leg bones and ''Pelvis''. Repeat the connect process with ''L_armBone''\
      \ and ''Clavicle''. (FIG 8)\n\n[[Image:Legacy_MCMT-08-UpperBones.gif|center|FIG\
      \ 8. The upper body bones]]\n\n32. To complete the upper body hierarchy, it's\
      \ now necessary to create and connect a neck joint and bone. Create a joint\
      \ just above ''Clavicle'', at Y=17.5, and another at [5], then hit Enter. Rename\
      \ the resulting bone as ''Neck''.\n\n33. Select ''Neck'', then ''Clavicle'',\
      \ and connect as before.\n\nThe skeleton is now complete. Check the layout in\
      \ the viewports and the hierarchy in Outliner and confirm that they look like\
      \ FIg 9.\n\n[[Image:Legacy_MCMT-09-AllBones.gif|center|FIG 9. Front view of\
      \ the complete skeleton]]\n\n34. The X and Y positions of the joints are set,\
      \ but some Z-axis tweaks are needed to align the rig with the polymesh \"skin.\"\
      \ \n\nSwitch to ortho Side view, select the joints one-by-one, and use the Move\
      \ tool + Insert to adjust the joints in Z so they align with the centers of\
      \ the polymesh limbs and torso (FIG 10). Be sure to use Insert to have the joints\
      \ move independently of the skeletal hierarchy.\n\n35. The spine is a special\
      \ case. Maya PLE's IK solvers limit the extent a joint can flex, so for spine-like\
      \ flexibility, the joint/bone system needs at least a couple of segments, and\
      \ they have to be set up to flex in opposite directions. FIG 10 illustrates\
      \ appropriate positioning for the spine segments &ndash; copy the shallow \"\
      zig-zag\" orientation shown. The reason for this will become apparent when IK\
      \ Handles are applied to the rig.\n\n[[Image:Legacy_MCMT-10-ZAxisTweaks.gif|center|FIG\
      \ 10. Two views of the final skeleton]]\n\nKeep in mind that this is a very\
      \ rudimentary skeletal rig, suitable for this tutorial but not for a fully useable\
      \ character. Study the UT2003 character rigs in the Animation browser, and other\
      \ skeletal animation examples you can search out in the Maya documentation and\
      \ on the web, for examples of fully-developed bone rigs. \n\n36. To preserve\
      \ this orientation of the skeleton, select ''RootBone''. In the '''Command Line'''\
      \ field, enter the MEL command string <tt>select -hi</tt> and hit Enter. <tt>select\
      \ -hi</tt> tells Maya PLE to select all objects in the hierarchy below ''RootBone'',\
      \ i.e., all the joints & bones. MEL (Maya Embedded Language) commands are case-sensitive,\
      \ so type it exactly. \n\nUse '''Skeleton>Set Preferred Angle''' in the main\
      \ menu. This \"records\" the orientation of all the selected joints so they\
      \ can be reset later with the '''Skeleton>Assume Preferred Angle''' menu item.\n\
      \n===Adding IK Handles ===\n\nA skeletal hierarchy by itself is just a bag o'\
      \ bones: unless you're planning to use only FK to animate it (not the usual\
      \ method), IK Handles must be added to connect certain joint/bone pairs. If\
      \ you're not too clear on the difference between Inverse Kinematic (IK) and\
      \ Forward Kinematics (FK), no worries, for this tute a complete understanding\
      \ isn't necessary. More info at [[Wikipedia:Inverse kinematic animation]] \n\
      \n37. First the workspace has to be cleared of stuff not needed for now. In\
      \ the main menu use '''Display>Hide>Geometry>Polygon Surfaces''' to hide the\
      \ polymesh cylinders so joints can be easily selected with the pointer. Switch\
      \ to a perspective viewport.\n\n38. Start with the legs. Select the '''IK Handle'''\
      \ tool, click on ''joint'n' ''('n' is a number) at the end of the right leg\
      \ joint/bone chain, then click on joint ''R_thighBone''. The leg bones will\
      \ change color, selection handles appear, and the two joints are connected by\
      \ a line, the handle vector.\n\n39. In like fashion, create an IK Handle connecting\
      \ ''joint'n' ''at the end of the left leg bone and ''L_thighBone''.\n\n40. Create\
      \ the arm bone IK Handles, connecting ''joint'n' ''at the end of each chain\
      \ to its respective shoulder joint. Then use '''Edit>Select All by Type>IK Handles'''\
      \ and compare your rig to FIG 11.\n\n[[Image:Legacy_MCMT-11-LimbsIK.gif|center|FIG\
      \ 11. IK handles added to legs and arms]]\n\nSave your file now. Time to play\
      \ with the IK rig a bit before proceeding, and progress so far should be saved\
      \ in case reverting to this point is necessary.\n\nSelect an IK handle and move\
      \ it around, testing the range of motion it offers. Note that the joint the\
      \ IK handle controls cannot be \"hyperextended\" &ndash; flexed past a point\
      \ where the joint/bone chain aligns with the handle vector line. While this\
      \ is fine for joints like elbows and knees, it complicates structures like the\
      \ spine, which has to flex with much greater freedom.\n\nWhen you're ready to\
      \ proceed, select the entire skeleton as described in 36. above, then use '''Skeleton>Assume\
      \ Preferred Angle''' to get your rig back in the \"default\" position. If this\
      \ fails for some reason (it can occasionally fail with more complex rigs), just\
      \ reopen the file without saving changes.\n\n41. Connect ''Spine01'' and ''Spine03''\
      \ with an IK Handle.\n\n42. Connect ''Spine02'' and ''Clavicle'' with an IK\
      \ Handle. The character's IK controls are now rigged.\n\n43. Rename the IK handles\
      \ according to the bones they control &ndash; see FIG 12. \n\n[[Image:Legacy_MCMT-12-IKHnames.gif|center|FIG\
      \ 12. IK Handle names]]\n\nAgain take a few minutes to \"exercise\" the model\
      \ using the IK handles. Gain some familiarity with the motion capabilities and\
      \ limits, particularly the spine, which often requires manipulating more than\
      \ one handle simultaneously to attain a desired position.\n\nOnce more it needs\
      \ to be stated that this tutorial uses a VERY rudimentary model, with simple\
      \ geometry and a simple IK rig (skeleton + IK handles). For a more complex model,\
      \ the rigging is quite a bit more elaborate, as a review of the UT2003 models'\
      \ skeletons will reveal. \n\nNOTE: There may also be significant differences\
      \ in how Max & Maya deal with Inverse Kinematics that will result in IK rigs\
      \ that differ in detail, so using Maya PLE to \"copy\" a skeleton built in Max\
      \ may not be successful without adaptation.\n\n===Binding the Skin ===\n\nThis\
      \ process \"attaches\" the polymesh objects of the character model to the IK\
      \ rig so that the rig controls the motion of the polymesh, which is the only\
      \ visible part of the model in-game.\n\n44. Use '''Display>Show>Show Geometry>Polygon\
      \ Surfaces''' to make the model's meshes visible again. Use '''Display>Hide>Hide\
      \ Kinematics>All''' to hide the IK rig for now while some more modeling is done.\n\
      \n45. Looking at Outliner, the scene now has 11 polymesh objects listed. These\
      \ have to be made into a single polymesh for binding as a skin. Switch to the\
      \ '''Modeling''' editor, then select all the cylinders comprising the model.\n\
      \n46. Use '''Polygons>Combine''' in the main menu. Outliner now shows a single\
      \ polymesh object (''polySurface'n' ''). Rename this object ''SkinMesh''. \n\
      \nNote that in Outliner, things are getting complicated, as it still displays\
      \ the names of the previously separate cylinder objects (FIG 13). These are\
      \ part of the \"history\" of the polygon mesh we've been working with. They're\
      \ not needed, so delete them by selecting ''SkinMesh'' and using '''Edit>Delete\
      \ by Type>History''' in the main menu.\n\n[[Image:Legacy_MCMT-13-History.gif|center|FIG\
      \ 13. The combined polymesh's history in Outliner]]\n\n47. Switch back to the\
      \ '''Animation''' editor and make the IK rig visible again with '''Display>Show>Show\
      \ Kinematics>All'''.\n\n48. In Outliner, select ''SkinMesh'', then Ctrl+select\
      \ ''RootBone'' to add it to the selection. \n\n49. In the main menu, use '''Skin>Bind\
      \ Skins>Smooth Bind>OPTIONS''' to open the Smooth Bind Options dialog. Enter\
      \ the settings shown in FIG 14 and click Bind Skin. ''SkinMesh'' will change\
      \ color, indicating it is now bound to the IK rig.\n\n[[Image:Legacy_MCMT-14-BindSkinSpecs.gif|center|FIG\
      \ 14. The Smooth Bind options to use]]\n\n50. Select an IK handle and move it\
      \ &ndash; ''SkinMesh'' moves with it. If things look wrong in some places, it's\
      \ OK, it'll be fixed in a moment.\n\n51. After binding, the position of the\
      \ IK rig + skin is \"recorded\" as the Bind Pose. If while moving the model\
      \ around you manage to \"lock\" it into a distorted pose that can't be undone\
      \ (it can happen with extreme poses), select any part of the skeleton and use\
      \ '''Skin>Go to Bind Pose''' to recover.\n\nYou may note that some parts of\
      \ ''SkinMesh'' move inappropriately, like parts of the torso moving with the\
      \ arms. This is due to the binding method used (Closest Joint), and can be fixed\
      \ in a number of ways. The usual method is to bind the skin in a different pose\
      \ where the bones and skin sections are more widely separated. This is one reason\
      \ the reference pose for many models is the \"T-bone\" &ndash; arms-straight-out-from-the-shoulders.\n\
      \n52. Select ''SkinMesh'' in Outliner and use '''Skin>Detach Skin>OPTIONS'''\
      \ to open the dialog. Choose the Delete History option, then click Detach. ''SkinMesh''\
      \ is no longer bound to the IK rig.\n\n53. Hide the Kinematics (IK rig) as before,\
      \ and switch to the Modeling editor. With ''SkinMesh'' selected, use '''Edit\
      \ Polygons>Separate'''. In Outliner, ''SkinMesh'' changes to a Group item (different\
      \ icon), and the individual cylinders of the model are listed as group members\
      \ (with new names, unfortunately, but that's not critical at this point).\n\n\
      54. Using an ortho front viewport, select the 2 cylinders of the right arm,\
      \ then select the Rotate Tool. The pivot is at the origin, and will have to\
      \ be moved to the \"shoulder\" position, so use Insert and move it to the top\
      \ center of the right upper arm cylinder (FIG 15). Make sure Snap to Grids is\
      \ enabled to insure accurate positioning of the pivot.\n\n[[Image:Legacy_MCMT-15-PlacePivot.gif|center|FIG\
      \ 15. Place the pivot at the top center of the \"shoulder\"]]\n\n55. Hit Insert\
      \ again to disable \"move pivot\" mode, then rotate the two selected cylinders\
      \ -90 degrees on the Z axis so they point straight out from the torso (FIG 16).\
      \ This can be done with the manipulator (hard to get exactly 90 degrees), or\
      \ by entering Rotate Z= -90 in the Channel Box.\n\n[[Image:Legacy_MCMT-16-RotateArm.gif|center|FIG\
      \ 16. Rotating the arm]]\n\n56. To complete the \"T-bone\" pose, re-align the\
      \ left arm cylinders in like fashion. The rotation for these will be Rotate\
      \ Z=90. \n\n57. Select All and use '''Polygons>Combine''', then use '''Edit>Delete\
      \ by Type>History''' to clear the unnecessary items from Outliner. Rename the\
      \ combined polymesh as ''SkinMesh''.\n\n58. Show the IK rig. Make sure Snap\
      \ to Grids is enabled. Select ''ikHandle_R_arm'' and move the arm bones so they\
      \ line up with the center of the right arm cylinders (FIG 17). Align the left\
      \ arm bones to the left arm mesh in similar fashion. Switch to ortho Top view\
      \ to confirm the bone alignment along the centers of the cylinders (FIG 17).\n\
      \n[[Image:Legacy_MCMT-17-IKHrealign.gif|center|FIG 17. Realigning the skeleton\
      \ using the IK handles]]\n\n59. Switch to the Animation editor. In Outliner,\
      \ select ''SkinMesh'', Ctrl-select ''RootBone'', and use '''Skin>Bind Skin>Smooth\
      \ Bind''' to once again attach the skin to the IK rig. The options are preserved\
      \ from the last Smooth Bind, so the dialog isn't needed this time. \n\nMove\
      \ the IK handles around &ndash; the previous inappropriate skin moves are gone.\
      \ Near the joints, the skin deformation influenced by the joints is obvious,\
      \ but that's normal (and desirable for models where the entire body is a single\
      \ continuous mesh). \n\nAt this point it's possible to proceed with animating\
      \ the character, but it's also a good time to use one of Maya's coolest character\
      \ modeling features (imho, of course), the '''Paint Skin Weights Tool''' (PSWT).\n\
      \n\"Skin weights\" refers to the amount of influence any joint/bone has over\
      \ any single vertex in the polygon mesh bound to a skeleton. Some apps use numerical\
      \ data entry to fine tune this value, and in Maya PLE that's also an option,\
      \ but I find it tedious and inefficient. The Paint Skin Weights tool does the\
      \ same task with a \"paint brush\" applied directly to the model.\n\n60. Switch\
      \ the viewport Shading from Wireframe to Smooth Shade All. Use Display>Grid\
      \ to toggle the viewport grid off. Switch to a perspective viewport.\n\n61.\
      \ Select ''SkinMesh''. Use '''Skin>Edit Smooth Skin>Paint Skin Weights Tool>OPTIONS'''\
      \ to open the appropriate dialog. ''SkinMesh'' will turn from shaded grey to\
      \ flat black, with some grey perhaps visible in a small patch or patches.\n\n\
      62. In the Paint Skin Weights Tool dialog, the Brush, Influence and Paint Weights\
      \ sections should be revealed. \n\nNote the listing of bone names (called Transforms\
      \ in the dialog). When a bone is selected in this list, the amount of influence\
      \ it has on a skin mesh is displayed on the model by a shade of grey &ndash;\
      \ the brighter the grey, the more the influence, up to 1.0 = white = 100% influence.\n\
      \nThe Brush section is fairly self-explanatory. The defaults are OK for now.\
      \ In the Paint Weights section, the 2 operations of greatest interest are Scale\
      \ and Add. \n\nScale reduces the influence by multiplying the current influence\
      \ by the number in the Value field. A Scale Value of 0 removes all influence.\
      \ \n\nValue is added to the influence when Add is enabled.\n\nReplace changes\
      \ the influence to Value. \n\nSmooth is more valuable on high-poly models where\
      \ vertices are closely spaced. It evens the distribution of skin weight Values\
      \ in a painted area.\n\nSkin weights are normalized, meaning the influences\
      \ on any vertex from any number of joints must always add up to no more than\
      \ 1.0.\n\n63. Before painting, use '''Skin>Edit Smooth Skin>Enable Weight Normalization'''\
      \ to have Maya PLE automatically normalize the influences on vertices during\
      \ painting.\n\nIn the PSWT dialog, reveal the Display section and check the\
      \ Show Wireframe checkbox. For low-poly models this makes it easier to identify\
      \ the vertex locations when painting.\n\n64. In the Transforms list (the bone\
      \ names), select ''R_armBone''. The model is \"illuminated\" to show the extent\
      \ of influence this bone has on the skin. Note the fade to grey at the ends\
      \ of the upper arm cylinder &ndash; in most models, areas near joints have shared\
      \ influence (FIG 18). Select ''R_4armBone'' in the PSWT Transforms list and\
      \ note a similar weight distribution. At the joint, total influence is 1.0,\
      \ but it's shared by the two bones. You're about to change that.\n\n[[Image:Legacy_MCMT-18-SkinWeights.gif|center|FIG\
      \ 18. Shared skin weights near the elbow joint]]\n\nThe character looks a bit\
      \ like it's been assembled from tin cans, so he's now officially dubbed \"TinCanMan.\"\
      \ But tin cans are rigid, so the shared influences at joints cause flex in the\
      \ skin \"cylinders\" that are unnatural for TinCanMan. This is remedied by painting\
      \ the skin weights to different values.\n\n65. In the PSWT, select ''R_armBone''\
      \ and enable Add, set Value = 1.0. Paint the \"elbow\" end of the upper arm\
      \ section of ''SkinMesh'', being sure the brush passes over the vertices. The\
      \ skin will turn white where the painted weight is applied. Paint all sides\
      \ of the elbow end of the upper arm cylinder.\n\n66. Select Scale, set Value\
      \ = 0. Paint the elbow section of the right forearm segment of the mesh &ndash;\
      \ it will turn from pale grey to flat black. All influence from ''R_armBone''\
      \ has been removed from this portion of the mesh (FIG 19).\n\n[[Image:Legacy_MCMT-19-PaintSkinWeights.gif|center|FIG.\
      \ 19 Painting the elbow joint skin weights]]\n\nNow select ''R_4armBone'' in\
      \ the Transforms list and note the changes to its influence. The auto-normalization\
      \ insures that the influence removed from ''R_armBone'' is added to ''R_4armBone''.\
      \ Now flex the joint and note that the end of the cylinders near the joint are\
      \ no longer deformed &ndash; the \"tin cans\" now look rigid. Reactivate the\
      \ PSWT (which was disabled when the Move tool was chosen).\n\nSelect ''L_armBone''\
      \ in the PSWT list. Note that its influences match the initial values for its\
      \ counterpart on the right. This  part of the mesh does not need to be painted\
      \ to match &ndash; there's a menu item for that.\n\n67. Use '''Skin>Edit Smooth\
      \ Skin>Mirror Skin Weights>OPTIONS''', and in the dialog enable Mirror Axis\
      \ YZ, leave Direction unchecked (or uncheck it). Click Mirror. The display of\
      \ skin weights on the model doesn't update immediately, so select ''L_armBone''\
      \ again in the PSWT. The skin weight influences from ''R_armBone'' have been\
      \ mirrored across the YZ plane to ''L_armBone''.\n\n68. Use the PSWT techniques\
      \ to modify the influences on the rest of the right side of the IK rig, so TinCanMan's\
      \ parts don't deform \"out of character.\" \n\nFor the torso segment of TinCanMan,\
      \ ''Spine02'' should have full influence. For the hips segment, ''Spine01''\
      \ should have full influence.\n\nMirror the changes to the left side, and the\
      \ skin weight painting is done.\n\nThe PSWT is invaluable for tweaking the joints\
      \ of \"real\" characters, because the default weighting at joints usually leads\
      \ to some unnatural deformation. Using the PSWT judiciously can greatly increase\
      \ the realism of characters, particularly those with a single continuous skin\
      \ mesh.\n\nBTW, the UT2K3 models use segmented body parts extensively&ndash;\
      \ they are, to a certain degree, just much more sophisticated \"TinCanCreatures.\"\
      \n\nPractice using the IK handles to manipulate TinCanMan, using '''Skin>Go\
      \ to Bind Pose''' to \"reset\" his position.\n\nTime to create some [[Legacy:Maya\
      \ PLE Character Model Tutorial Part 3|Animation]] for TinCanMan.\n\n==Discussion==\n\
      \n'''Animus:''' is it not easyer to use the mirror joint tool? image 5 is confusing\
      \ it says RootBone, Spine01 and Pelvis that means the middle one is the spine?\
      \ at 27 the tut says connect a new joint start at spine01 ? also at 23 it says\
      \ nothing about ranaming the joint for the foot.\n\n'''SuperApe:''' Q#1: It\
      \ may indeed be easier to use the mirror joint tool; this may just be a matter\
      \ of preference on the part of the author to show the low-level steps involved.\
      \  Q#2: Yes.  Q#3: Yes.  Q#4: There is no foot.  These are minor complaints\
      \ when weighed against scope and quality of the whole tutorial.  Unless there\
      \ was a major problem (and I haven't found one in this tut), I wouldn't worry\
      \ about it.\n\n'''Animus:''' yes your totaly right this tutorial is very good\
      \ i just wanted to make it clear.\n\n'''Dr. Freemanstein:''' I am experiencing\
      \ big problems at step 49.  I have Maya 7.0 PLE which does not share the same\
      \ options as the example dialogue box.  In 7.0, the \"Bind To\" drop down only\
      \ has \"Joint Heirarchy\", \"Selected Joints\" and \"Object Heirarchy\".  Also\
      \ the \"Bind Method\" menu only has \"Closest in Heirarchy\" and \"Closest Distance\"\
      .  I have tried all possible combinations, but to no avail.  Moving the IK handles\
      \ only moves the bones while the skin remains stationary!  Anyone figured this\
      \ one out??\n\n'''SuperApe:''' My educated guess is that Bind \"Joint Heirarchy\"\
      \ is the same as \"Complete Skeleton\" and that \"Object Heirarchy\" is a new\
      \ option.  Also, I can guess that Bind Options \"Closest in Heirarchy\" is the\
      \ same as \"Closest Joint\" and that the syntax here changed to acomodate the\
      \ new \"Object Heirarchy\" option.  As to why your Bind operation is not working,\
      \ I would make sure you are shift-selecting your Mesh and Root joint in that\
      \ order and that you see the Mesh color change once the Bind operation is complete.\
      \ :)\n  \n'''angry:''' Can anyone tell me how I attach a weapon to this character\
      \ to stop him firing from the RootBone??\n\n\n\n\n----\n\n[[Legacy:Maya PLE\
      \ Character Model Tutorial|Maya PLE Character Model Tutorial]]"
  properties: []
  revId: 10947
name: "Legacy:Maya PLE Character Model Tutorial Part 2"
revision:
  revid: 10947
  parentid: 5179
  user: "Angry baker"
  timestamp: 1207762658.000000000
  comment: "/* Discussion */"
timestamp: 1668786918.800579000
