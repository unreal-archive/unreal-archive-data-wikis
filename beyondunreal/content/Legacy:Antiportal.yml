---
parse:
  title: "Legacy:Antiportal"
  text:
    text: "<p><b>Antiportals</b> are a new concept in <a href=\"/Legacy:Unreal_Engine_Versions\"\
      \ title=\"Legacy:Unreal Engine Versions\">version 2</a> of the <a href=\"/Legacy:Unreal_Engine\"\
      \ title=\"Legacy:Unreal Engine\">Unreal Engine</a>, <a href=\"/Legacy:UT2003\"\
      \ title=\"Legacy:UT2003\" class=\"mw-redirect\">UT2003</a> and onward. For more\
      \ information on the transition from older versions, see <a href=\"/Legacy:Occlusion_Changes_For_UnrealEngine2\"\
      \ title=\"Legacy:Occlusion Changes For UnrealEngine2\">Occlusion changes for\
      \ UnrealEngine2</a>.</p>\n<p>They aren't a type of portal, and in fact shouldn't\
      \ really be called \"antiportal\" at all. They are <b>occluding planes</b>:\
      \ they prevent the rendering of things behind them.</p>\n<p></p>\n<div id=\"\
      toc\" class=\"toc\">\n<div id=\"toctitle\">\n<h2>Contents</h2>\n</div>\n<ul>\n\
      <li class=\"toclevel-1 tocsection-1\"><a href=\"#Two_flavours\"><span class=\"\
      tocnumber\">1</span> <span class=\"toctext\">Two flavours</span></a>\n<ul>\n\
      <li class=\"toclevel-2 tocsection-2\"><a href=\"#AntiPortal_Surfaces\"><span\
      \ class=\"tocnumber\">1.1</span> <span class=\"toctext\">AntiPortal Surfaces</span></a></li>\n\
      <li class=\"toclevel-2 tocsection-3\"><a href=\"#AntiPortalActor_.28the_volume-ish_kind.29\"\
      ><span class=\"tocnumber\">1.2</span> <span class=\"toctext\">AntiPortalActor\
      \ (the volume-ish kind)</span></a></li>\n<li class=\"toclevel-2 tocsection-4\"\
      ><a href=\"#Behavior\"><span class=\"tocnumber\">1.3</span> <span class=\"toctext\"\
      >Behavior</span></a></li>\n<li class=\"toclevel-2 tocsection-5\"><a href=\"\
      #Zone_Antiportals\"><span class=\"tocnumber\">1.4</span> <span class=\"toctext\"\
      >Zone Antiportals</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-6\"\
      ><a href=\"#BSP_Surface_Anti-portals\"><span class=\"tocnumber\">2</span> <span\
      \ class=\"toctext\">BSP Surface Anti-portals</span></a></li>\n<li class=\"toclevel-1\
      \ tocsection-7\"><a href=\"#Triggerable_AntiPortalActors\"><span class=\"tocnumber\"\
      >3</span> <span class=\"toctext\">Triggerable AntiPortalActors</span></a>\n\
      <ul>\n<li class=\"toclevel-2 tocsection-8\"><a href=\"#Destroyable_Doors\"><span\
      \ class=\"tocnumber\">3.1</span> <span class=\"toctext\">Destroyable Doors</span></a></li>\n\
      <li class=\"toclevel-2 tocsection-9\"><a href=\"#Standard_Doors\"><span class=\"\
      tocnumber\">3.2</span> <span class=\"toctext\">Standard Doors</span></a></li>\n\
      <li class=\"toclevel-2 tocsection-10\"><a href=\"#Examples\"><span class=\"\
      tocnumber\">3.3</span> <span class=\"toctext\">Examples</span></a></li>\n</ul>\n\
      </li>\n<li class=\"toclevel-1 tocsection-11\"><a href=\"#An_Example\"><span\
      \ class=\"tocnumber\">4</span> <span class=\"toctext\">An Example</span></a></li>\n\
      <li class=\"toclevel-1 tocsection-12\"><a href=\"#A_Warning\"><span class=\"\
      tocnumber\">5</span> <span class=\"toctext\">A Warning</span></a></li>\n<li\
      \ class=\"toclevel-1 tocsection-13\"><a href=\"#Seeing_the_Antiportal_Effect\"\
      ><span class=\"tocnumber\">6</span> <span class=\"toctext\">Seeing the Antiportal\
      \ Effect</span></a></li>\n<li class=\"toclevel-1 tocsection-14\"><a href=\"\
      #Related_Topics\"><span class=\"tocnumber\">7</span> <span class=\"toctext\"\
      >Related Topics</span></a></li>\n<li class=\"toclevel-1 tocsection-15\"><a href=\"\
      #Discussion\"><span class=\"tocnumber\">8</span> <span class=\"toctext\">Discussion</span></a></li>\n\
      </ul>\n</div>\n<p></p>\n<h2><span class=\"mw-headline\" id=\"Two_flavours\"\
      >Two flavours</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\"\
      >[</span><a href=\"/edit/Legacy:Antiportal?section=1\" title=\"Edit section:\
      \ Two flavours\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h2>\n\
      <h3><span class=\"mw-headline\" id=\"AntiPortal_Surfaces\">AntiPortal Surfaces</span><span\
      \ class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a\
      \ href=\"/edit/Legacy:Antiportal?section=2\" title=\"Edit section: AntiPortal\
      \ Surfaces\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h3>\n\
      <p>There are two ways you do this:</p>\n<ul>\n<li>define special planes with\
      \ a special kind of Antiportal brush</li>\n<li>label particular BSP surfaces\
      \ as antiportals, which causes them to occlude</li>\n</ul>\n<h3><span class=\"\
      mw-headline\" id=\"AntiPortalActor_.28the_volume-ish_kind.29\">AntiPortalActor\
      \ (the volume-ish kind)</span><span class=\"mw-editsection\"><span class=\"\
      mw-editsection-bracket\">[</span><a href=\"/edit/Legacy:Antiportal?section=3\"\
      \ title=\"Edit section: AntiPortalActor (the volume-ish kind)\">edit</a><span\
      \ class=\"mw-editsection-bracket\">]</span></span></h3>\n<p>This type of <b>Antiportal</b>\
      \ is a type of <a href=\"/Legacy:Brush\" title=\"Legacy:Brush\">brush</a>. It\
      \ is placed with the special <a href=\"/Legacy:Toolbox\" title=\"Legacy:Toolbox\"\
      >toolbox</a> button and shows up as brown wireframe model, similar to a volume.\
      \ Hiding volumes (key O by default) will hide AntiPortalActors as well.</p>\n\
      <h3><span class=\"mw-headline\" id=\"Behavior\">Behavior</span><span class=\"\
      mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/edit/Legacy:Antiportal?section=4\"\
      \ title=\"Edit section: Behavior\">edit</a><span class=\"mw-editsection-bracket\"\
      >]</span></span></h3>\n<p>An Antiportal speeds up the rendering of a view by\
      \ occluding (hiding) everything (geometry, actors etc) <i>behind</i> itself.\
      \ This has the effect of reducing the <a href=\"/Legacy:Polycount\" title=\"\
      Legacy:Polycount\">polycount</a> (the number of polygons visible) from a particular\
      \ location and therefore speeds the level up.</p>\n<p>Although Antiportals can\
      \ be placed in solid space (that is outside of the level) they must be touching\
      \ some subtracted space in order to be considered by the rendering engine –\
      \ this is so the engine knows which zone the antiportal affects. Also, an Antiportal\
      \ will only be considered for occlusion if the zone(s) the Antiportal exists\
      \ within is visible within the current viewport. If an Antiportal is used by\
      \ the rendering engine then the entire Antiportal is used, whether it be in\
      \ solid or substracted space.</p>\n<table>\n<tr>\n<td>Not true for recent builds\
      \ at least:</td>\n<td>\n<p><font color=\"#444444\">Antiportals are always treated\
      \ as a cube. Though you can use a convex (see warning section) brush of any\
      \ shape and size to make an AntiPortal, the resulting area it occludes will\
      \ <b>always</b> be a box based on the extents of the original brush. This <i>box</i>\
      \ rotates with the brush, so you can have diagonal boxes for occlusion.</font></p>\n\
      </td>\n</tr>\n</table>\n<p>AntiPortalActors may use any convex brush as their\
      \ source geometry. However, to make their processing fast you should only use\
      \ extrmely simple brushes, such as sheets.</p>\n<p>An Antiportal will occlude\
      \ different parts of the <a href=\"/Legacy:Unreal_World\" title=\"Legacy:Unreal\
      \ World\">Unreal World</a> in different ways:</p>\n<ul>\n<li><a href=\"/Legacy:BSP\"\
      \ title=\"Legacy:BSP\">BSP</a> on a node by node basis</li>\n<li>if the bounding\
      \ sphere of a <a href=\"/Legacy:Static_Mesh\" title=\"Legacy:Static Mesh\">static\
      \ mesh</a> is visible the entire mesh will be rendered.</li>\n<li>an Antiportal\
      \ will occlude <a href=\"/Legacy:Terrain\" title=\"Legacy:Terrain\">terrain</a>\
      \ in 16x16 blocks. So even if a small part of a 16x16 block is visible the whole\
      \ block will be rendered.</li>\n</ul>\n<p>An Antiportal should never be substantially\
      \ visible to the player - it should always be hidden within a static mesh or\
      \ other \"solid\" part of a level. It's usually OK if the corners stick out\
      \ a bit as it's unlikely that the player would notice any occlusion errors that\
      \ small (but test from a wide range of angles to make sure it looks OK). It\
      \ is, however, critical that the player not be allowed to (even for an instant)\
      \ get their camera inside the anti-portal volume. If this happens the world\
      \ stops rendering (even objects intersecting with the antiportal) and a <a href=\"\
      /Legacy:Hall_Of_Mirrors\" title=\"Legacy:Hall Of Mirrors\">Hall Of Mirrors</a>\
      \ rendering errors will occur until they move back outside of the antiportal.</p>\n\
      <h3><span class=\"mw-headline\" id=\"Zone_Antiportals\">Zone Antiportals</span><span\
      \ class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a\
      \ href=\"/edit/Legacy:Antiportal?section=5\" title=\"Edit section: Zone Antiportals\"\
      >edit</a><span class=\"mw-editsection-bracket\">]</span></span></h3>\n<p>The\
      \ game <a href=\"/Legacy:Devastation\" title=\"Legacy:Devastation\">Devastation</a>\
      \ adds a new type of Antiportal – the Zone Anitportal.</p>\n<p>Zone AntiPortals\
      \ are used to cut down on the number of AntiPortals needed for a single building.\
      \ The idea is if you have a building with a room inside it, that building should\
      \ occlude what's behind it. With UT2k3, that means added a number of AntiPortals\
      \ around the building, making sure not to cover up any of the inside of the\
      \ building or the doorway. This means for a single building you're using maybe\
      \ 6 AntiPortals for a building that may only be a basic box. Zone AntiPortals\
      \ let you select the ZoneInfo of zones you don't wish the Zone AntiPortal to\
      \ occlude. This means you can have a big building with a room inside, and only\
      \ one big Zone AntiPortal that occludes everything behind the building, but\
      \ doesn't occlude the room.</p>\n<p>There are some quirks around using the Zone\
      \ AntiPortals as they cannot cover the Zone Portal which looks in to the zone\
      \ you don't want it to occlude, as the Zone Portal actually exists in the zone\
      \ you're in, and not in the zone you're trying not to occlude.</p>\n<p>There\
      \ may also be some issues with listing multiple ZoneInfos in the Zone AntiPortal's\
      \ ZoneInfo list where only one or some of the zones are not occluded. Sometimes\
      \ it works, sometimes it doesn't. Some of the bugs with this were fixed near\
      \ the end of the development of the game so it might work now.</p>\n<p>The map\
      \ <i>SP3M5-Bukko</i> is a good example of the different occlusion techniques\
      \ as that uses zone occlusion, AntiPortals, and Zone AntiPortals together. The\
      \ small store the troopers use as their first spawner base is a Zone AntiPortal,\
      \ and there are regular AntiPortals on both sides of that street.</p>\n<p>It\
      \ is not known whether Zone Antiportals have now been integrated into the main\
      \ Unreal Engine.</p>\n<h2><span class=\"mw-headline\" id=\"BSP_Surface_Anti-portals\"\
      >BSP Surface Anti-portals</span><span class=\"mw-editsection\"><span class=\"\
      mw-editsection-bracket\">[</span><a href=\"/edit/Legacy:Antiportal?section=6\"\
      \ title=\"Edit section: BSP Surface Anti-portals\">edit</a><span class=\"mw-editsection-bracket\"\
      >]</span></span></h2>\n<p><i>note: I'm calling these Anti-portals (with a hyphen)\
      \ as the Surface Properties window calls them that.</i></p>\n<p>Anti-portals\
      \ work very similarly to AntiPortalActors. They occlude objects entirely behind\
      \ them. The advantage with BSP surface Anti-portals is that if you already have\
      \ BSP in the right places you don't have to add new objects to the map. There\
      \ are several issues with BSP surface anti-portals however.</p>\n<p>Most significantly,\
      \ the original brush geometry is used, not the geometry exposed in the map.\
      \ This means you can't flag a wall that you cut a doorway through as an anti-portal\
      \ because the original polygon (without the doorway cut out of it) will be used\
      \ for occlusion.</p>\n<p>The second issue with BSP surface Anti-portals is that\
      \ each surface is treated as a separate anti-portal. Because an object is only\
      \ occluded is if is entirely hidden by one anti-portal, if an object is behind\
      \ the seam between two BSP anti-portals it will be visible.</p>\n<p>In general\
      \ you should stay away from BSP surface Anti-portals unless they precisely fit\
      \ the needs of your map. A significant number of the standard and bonus pack\
      \ maps use BSP surface Anti-portals, but I believe this may be because AntiPortalActors\
      \ only became available shortly before UT2003 shipped.</p>\n<h2><span class=\"\
      mw-headline\" id=\"Triggerable_AntiPortalActors\">Triggerable AntiPortalActors</span><span\
      \ class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a\
      \ href=\"/edit/Legacy:Antiportal?section=7\" title=\"Edit section: Triggerable\
      \ AntiPortalActors\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h2>\n\
      <p><b>Note:</b> Only tested in UT2004, but should work in UT2003 as well.</p>\n\
      <p>This combination is a great way to use AntiPortalActors for <b>door</b>s\
      \ or <b>Destroyable Objective SM</b>s. For example, you have a nice decorated\
      \ tunnel, with a destroyable door or a standard door at the entrance of it,\
      \ you want to occlude the decorations, but placing AntiPortalActors to the entrance\
      \ will hide most of the tunnel, even if the entrance door is opened or destroyed.\
      \ Triggered AntiPortalActors are here to solve this problem. AntiPortalActors\
      \ are always activated, but they are deactivateable (and reactivateable)!</p>\n\
      <p>!Now let's create it!:</p>\n<h4><span class=\"mw-headline\" id=\"Destroyable_Doors\"\
      >Destroyable Doors</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\"\
      >[</span><a href=\"/edit/Legacy:Antiportal?section=8\" title=\"Edit section:\
      \ Destroyable Doors\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h4>\n\
      <ol>\n<li><a href=\"/Legacy:Add_An_Actor\" title=\"Legacy:Add An Actor\">Add\
      \ an Actor</a> &gt;&gt; NavigationPoint &gt;&gt; JumpDest &gt;&gt; JumpSpot\
      \ &gt;&gt; GameObjective &gt;&gt; DestroyableObjective &gt;&gt; DestroyableObjective_SM,\
      \ select a cool static mesh for it, and move it into the needed place</li>\n\
      <li>Place the AntiPortalActor to the correct place (inside or behind the DestroyableObjective_SM),\
      \ and <a href=\"/Legacy:Set_The_Following_Properties\" title=\"Legacy:Set The\
      \ Following Properties\">set the following properties</a>:\n<ul>\n<li>Events\
      \ -&gt; Tag = MyTriggeredAP</li>\n<li>Object -&gt; InitialState = TriggerToggle</li>\n\
      </ul>\n</li>\n<li>Select your Destroyable Objective SM, <a href=\"/Legacy:Set_The_Following_Properties\"\
      \ title=\"Legacy:Set The Following Properties\">set the following properties</a>:</li>\n\
      </ol>\n<ul>\n<li>DestroyableObjective_SM -&gt; AntiPortalTag = MyTriggeredAP</li>\n\
      </ul>\n<p>Our DestroyableObjective will deactivate the MyTriggeredAP tagged\
      \ AntiPortalActor, when the objective is destroyed</p>\n<ol>\n<li>Check it in-game!</li>\n\
      </ol>\n<h4><span class=\"mw-headline\" id=\"Standard_Doors\">Standard Doors</span><span\
      \ class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a\
      \ href=\"/edit/Legacy:Antiportal?section=9\" title=\"Edit section: Standard\
      \ Doors\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h4>\n\
      <ol>\n<li>Create the whole door (including <a href=\"/Legacy:Mover\" title=\"\
      Legacy:Mover\">Movers</a>, <a href=\"/Legacy:Trigger\" title=\"Legacy:Trigger\"\
      >Triggers</a>, but NavigationPoints don't affect our AP)</li>\n<li>Place the\
      \ AntiPortalActor to the correct place (inside the door), and <a href=\"/Legacy:Set_The_Following_Properties\"\
      \ title=\"Legacy:Set The Following Properties\">set the following properties</a>:\n\
      <ul>\n<li>Events -&gt; Tag = MyDoorAP</li>\n<li>Object -&gt; InitialState =\
      \ TriggerControl</li>\n</ul>\n</li>\n<li>Select one of your Door's mover (only\
      \ 1 mover if 2 movers for 1 door), <a href=\"/Legacy:Set_The_Following_Properties\"\
      \ title=\"Legacy:Set The Following Properties\">set the following properties</a>:</li>\n\
      </ol>\n<ul>\n<li>Mover -&gt; AntiPortalTag = MyDoorAP</li>\n</ul>\n<p>The door\
      \ will deactivate the MyDoorAP tagged AntiPortalActor, when the door starts\
      \ opening, and will reactivate it when completely closed.</p>\n<ol>\n<li>Check\
      \ it in-game!</li>\n</ol>\n<h4><span class=\"mw-headline\" id=\"Examples\">Examples</span><span\
      \ class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a\
      \ href=\"/edit/Legacy:Antiportal?section=10\" title=\"Edit section: Examples\"\
      >edit</a><span class=\"mw-editsection-bracket\">]</span></span></h4>\n<p>Power\
      \ Station Access Door - AS-Glacier</p>\n<p>Suprise Door at Power Station - AS-Glacier</p>\n\
      <h2><span class=\"mw-headline\" id=\"An_Example\">An Example</span><span class=\"\
      mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/edit/Legacy:Antiportal?section=11\"\
      \ title=\"Edit section: An Example\">edit</a><span class=\"mw-editsection-bracket\"\
      >]</span></span></h2>\n<p>Imagine a level that has many static meshes that are\
      \ \"possibly\" in the field of view, but most of them are obscured by a single\
      \ mesh in the center of the level. A static mesh does not cause other meshes\
      \ behind it to be discarded from the rendering queue as it will not occlude\
      \ anything behind it. This means that all meshes within the field of view are\
      \ rendered.</p>\n<p>By placing an Antiportal into the center of the large static\
      \ mesh in the middle of the level we force some occlusion to occur. The performance\
      \ of the level would be increased as all of the static meshes completely behind\
      \ the Antiportal would not be rendered.</p>\n<p>Antiportals are particularly\
      \ useful within maps that are based \"outdoors\" or have large areas of terrain.\
      \ In these environments creating zones becomes problematic because of the <i>ceiling\
      \ height</i>.</p>\n<h2><span class=\"mw-headline\" id=\"A_Warning\">A Warning</span><span\
      \ class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a\
      \ href=\"/edit/Legacy:Antiportal?section=12\" title=\"Edit section: A Warning\"\
      >edit</a><span class=\"mw-editsection-bracket\">]</span></span></h2>\n<p>AntiPortals\
      \ are slow, and should be used sparingly in most cases. Once the number of Antiportals\
      \ in use starts to increase, the number of AntiPortals starts to negate the\
      \ rendering benefit of having those areas occluded. Also, it should be mentioned\
      \ that though AntiPortals are created from brushes (that includes both 3d shapes\
      \ and 2d <a href=\"/Legacy:Sheet\" title=\"Legacy:Sheet\">sheets</a>), they\
      \ are not brushes themselves. In fact, though you can use brushes of any shape\
      \ and size to make AntiPortals, the resulting area they occlude will ALWAYS\
      \ be a box based on the extents of the original brush. This \"box\" rotates\
      \ with the brush, so you can have diagonal boxes for occlusion.</p>\n<p><b>Wormbo:</b>\
      \ That can't be correct. If AntiPortals were boxes, you'd see a lot more HOM\
      \ effects. Can anyone confirm this, please? <a href=\"/Category:Legacy_Answer_Needed\"\
      \ title=\"Category:Legacy Answer Needed\">Category:Legacy Answer Needed</a></p>\n\
      <p><b>EntropicLqd:</b> That is correct. Anti-portals are always hidden in other\
      \ brushes or within mountains and stuff - which is why you don't see the HOM\
      \ effects - there is always geometry in front. It'll be interesting to see if\
      \ they are supported by UE3.</p>\n<p><b>Wormbo:</b> I used pyramid-shaped (square\
      \ base, tip down) antiportals in JB-Aswan-v2 and both real-time wireframe view\
      \ in UEd and rmode 1 in game suggest that they really occlude stuff behind the\
      \ pyramid (i.e. <i>not</i> a box) shape.</p>\n<p><b>EntropicLqd:</b> Interesting.\
      \ I've not done any mapping with the 2K4 editor - it's entirely possible that\
      \ Epic <i>improved</i> their behaviour to make it more intuitive. I would expect\
      \ rmode 1 to be the \"arbiter of truth though\". Certianly the description fits\
      \ with how I remember it working in Devastation (although that was a long long\
      \ time ago, and before 2K3 &amp; 2K4).</p>\n<p>The CPU overhead for occlusion\
      \ with boxes and sheets are actually the same, as AntiPortals treat sheets as\
      \ infinitely thin boxes. The CPU overhead for 8-sided cylinders is about 50%\
      \ higher than for boxes, but this might be worth it if you only have a handful\
      \ of complex static meshes up for occlusion.</p>\n<p>If an Antiportal volume\
      \ is not convex it will cause the game to hang as soon as the offending concave\
      \ Antiportal is in view. (actually this is not true, last I tried it with the\
      \ latest version of UT2004 it will just cause the antiportal to stop working\
      \ entirely) A convex shape is one where the angle from any vertex to any other\
      \ vertex is &lt;= 180 degrees. A simpler way to think of it is that a straight\
      \ line drawn between any two points on the surface of the shape must not go\
      \ outside the shape.</p>\n<p>Finally Sheets created in the 2D Shape Editor will\
      \ not work as AntiPortalActors. I'm not exactly sure what the deal is, but if\
      \ their in the view frustum they occlude EVERYTHING. You can use them as BSP\
      \ surface Anti-portals just fine however.</p>\n<h2><span class=\"mw-headline\"\
      \ id=\"Seeing_the_Antiportal_Effect\">Seeing the Antiportal Effect</span><span\
      \ class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a\
      \ href=\"/edit/Legacy:Antiportal?section=13\" title=\"Edit section: Seeing the\
      \ Antiportal Effect\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h2>\n\
      <p>Within UT2003 (works in devastation too) type <i>RMODE 1</i> into the Console\
      \ (see <a href=\"/Legacy:Console_Commands\" title=\"Legacy:Console Commands\"\
      >Console Commands</a> for more information). This will place the renderer into\
      \ wireframe mode. Static meshes and brushes will not be shown within this view\
      \ if they are fully behind an Antiportal.</p>\n<p>In UnrealEd, do the following\
      \ in a 3D viewport:</p>\n<ul>\n<li>activate <a href=\"/Legacy:Realtime_Preview\"\
      \ title=\"Legacy:Realtime Preview\">realtime preview</a></li>\n<li>Toggle <a\
      \ href=\"/Legacy:Viewport_Caption_Context_Menu\" title=\"Legacy:Viewport Caption\
      \ Context Menu\">Viewport Caption Context Menu</a> -&gt; View -&gt; Show Volumes\
      \ to show <a href=\"/Legacy:Volume\" title=\"Legacy:Volume\">volumes</a></li>\n\
      <li>view complexity mode (last button, funky green-&gt;red color ramp) can be\
      \ useful to see if your antiportals are working. Turning off terrain (hit 't')\
      \ and BSP (hit 'q') will let you see static mesh overdraw.</li>\n</ul>\n<h2><span\
      \ class=\"mw-headline\" id=\"Related_Topics\">Related Topics</span><span class=\"\
      mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/edit/Legacy:Antiportal?section=14\"\
      \ title=\"Edit section: Related Topics\">edit</a><span class=\"mw-editsection-bracket\"\
      >]</span></span></h2>\n<p>See the following pages for more information on level\
      \ optimization.</p>\n<ul>\n<li><a href=\"/Legacy:Map_Optimization\" title=\"\
      Legacy:Map Optimization\">Map Optimization</a></li>\n<li><a href=\"/Legacy:Zoning\"\
      \ title=\"Legacy:Zoning\">Zoning</a></li>\n<li><a href=\"http://udn.epicgames.com/Two/LevelOptimization\"\
      \ class=\"extiw\" title=\"udn2:LevelOptimization\">udn2:LevelOptimization</a>\
      \ - The UDN's level optimisation page.</li>\n<li><a href=\"http://udn.epicgames.com/Two/VolumesTutorial\"\
      \ class=\"extiw\" title=\"udn2:VolumesTutorial\">udn2:VolumesTutorial</a> -\
      \ the AntiPortalActors section at the bottom.</li>\n</ul>\n<h2><span class=\"\
      mw-headline\" id=\"Discussion\">Discussion</span><span class=\"mw-editsection\"\
      ><span class=\"mw-editsection-bracket\">[</span><a href=\"/edit/Legacy:Antiportal?section=15\"\
      \ title=\"Edit section: Discussion\">edit</a><span class=\"mw-editsection-bracket\"\
      >]</span></span></h2>\n<p><b>Foxpaw:</b> Above it refers to the \"bounding sphere\"\
      \ of a static mesh. Is that referring to the collision data of the static mesh\
      \ or something else?</p>\n<p><b>inio:</b> Bounding spheres are used for visibility\
      \ (GetRenderBoundingSphere) and probably also for the first pass of collision\
      \ tests. Spheres are used because plane/sphere and sphere/sphere tests are extremely\
      \ fast.</p>\n<p><b>inio:</b> I added some info on Anti-portal BSP surfaces and\
      \ expanded the AntiPortalActor section a bit. Also, all the bits about the bounding\
      \ box being used for AntiPortalActors seem to be entirely incorrect (under no\
      \ circumstances did I ever see the bounding box used instead of the actual geometry).</p>\n\
      <p>My testing methods for collecting data about what works, what doesn't, and\
      \ performance:</p>\n<ol>\n<li>Make a 8k square cube</li>\n<li>by recursive duplication,\
      \ spread about 4000 EffectMehses.DirtChunk_01aw static meshes around about say\
      \ 4k square on the floor and scale them up a bit (drawscale = 3)</li>\n<li>for\
      \ various antiportal setups, place 64 identical antiportals above this, with\
      \ the camera locked in place at the top of the center of the 8k room looking\
      \ straight down.</li>\n</ol>\n<p><b>Tarquin:</b> Roughly how many APs is ok\
      \ – is there any rule of thumb, say, for the number of zones in the map, of\
      \ the number of static meshes in total, or something?</p>\n<p><b>EntropicLqd:</b>\
      \ Its going back a bit (and I've lost the original email due to a HD crash)\
      \ but I remember the guy from the Devastation dev. team saying that once the\
      \ number of AP's got above 9 they tended to become prohibitively expensive.\
      \ That's on an earlier version of the engine though so some optimisation has\
      \ almost certainly taken place.</p>\n<p><b>Ragdoll:</b>Ive seen devastation\
      \ maps with way more antiportals than that. Im not sure sure if theres a limit\
      \ to the number of zone antiportals you can have before it starts to become\
      \ too costly though.</p>\n<p><b>MythOpus:</b> But do any of the Devestation\
      \ maps use the newer level area occlude methods too? I forget what it is and\
      \ how to do it. There's a page on the wiki but it involves telling the renderer\
      \ to just not render certain parts of the map based on where the player is.\
      \ Its different from the Anti-Portals and if you use both in conjunction it\
      \ would probably ignore the limits and run better. Perhaps they've used that?</p>\n\
      \n<!-- \nNewPP limit report\nCPU time usage: 0.076 seconds\nReal time usage:\
      \ 0.078 seconds\nPreprocessor visited node count: 63/1000000\nPreprocessor generated\
      \ node count: 84/1000000\nPost‐expand include size: 20/2097152 bytes\nTemplate\
      \ argument size: 0/2097152 bytes\nHighest expansion depth: 2/40\nExpensive parser\
      \ function count: 0/100\n-->\n\n<!-- \nTransclusion expansion time report (%,ms,calls,template)\n\
      100.00%    0.000      1 - -total\n-->\n\n<!-- Saved in parser cache with key\
      \ wiki:pcache:idhash:380-0!*!0!!en!*!* and timestamp 20221117184416 and revision\
      \ id 1286\n -->\n"
  categories:
  - sortkey: "Antiportal"
    name: "Legacy_Mapping"
  - sortkey: "Antiportal"
    name: "Legacy_Answer_Needed"
  links:
  - ns: 100
    exists: true
    name: "Legacy:Unreal Engine Versions"
  - ns: 100
    exists: true
    name: "Legacy:Unreal World"
  - ns: 100
    exists: true
    name: "Legacy:Trigger"
  - ns: 100
    exists: true
    name: "Legacy:Terrain"
  - ns: 100
    exists: true
    name: "Legacy:Zoning"
  - ns: 100
    exists: true
    name: "Legacy:Brush"
  - ns: 100
    exists: true
    name: "Legacy:Map Optimization"
  - ns: 100
    exists: true
    name: "Legacy:Set The Following Properties"
  - ns: 100
    exists: true
    name: "Legacy:Unreal Engine"
  - ns: 100
    exists: true
    name: "Legacy:Static Mesh"
  - ns: 100
    exists: true
    name: "Legacy:Occlusion Changes For UnrealEngine2"
  - ns: 100
    exists: true
    name: "Legacy:Mover"
  - ns: 100
    exists: true
    name: "Legacy:Realtime Preview"
  - ns: 100
    exists: true
    name: "Legacy:Volume"
  - ns: 14
    exists: true
    name: "Category:Legacy Answer Needed"
  - ns: 100
    exists: true
    name: "Legacy:Sheet"
  - ns: 100
    exists: true
    name: "Legacy:Hall Of Mirrors"
  - ns: 100
    exists: true
    name: "Legacy:Console Commands"
  - ns: 100
    exists: true
    name: "Legacy:Viewport Caption Context Menu"
  - ns: 100
    exists: true
    name: "Legacy:Devastation"
  - ns: 100
    exists: true
    name: "Legacy:BSP"
  - ns: 100
    exists: true
    name: "Legacy:UT2003"
  - ns: 100
    exists: true
    name: "Legacy:Add An Actor"
  - ns: 100
    exists: true
    name: "Legacy:Polycount"
  - ns: 100
    exists: true
    name: "Legacy:Toolbox"
  templates: []
  images: []
  externallinks: []
  sections:
  - toclevel: 1
    level: "2"
    line: "Two flavours"
    number: "1"
    index: "1"
    fromtitle: "Legacy:Antiportal"
    byteoffset: 490
    anchor: "Two_flavours"
  - toclevel: 2
    level: "3"
    line: "AntiPortal Surfaces"
    number: "1.1"
    index: "2"
    fromtitle: "Legacy:Antiportal"
    byteoffset: 508
    anchor: "AntiPortal_Surfaces"
  - toclevel: 2
    level: "3"
    line: "AntiPortalActor (the volume-ish kind)"
    number: "1.2"
    index: "3"
    fromtitle: "Legacy:Antiportal"
    byteoffset: 710
    anchor: "AntiPortalActor_.28the_volume-ish_kind.29"
  - toclevel: 2
    level: "3"
    line: "Behavior"
    number: "1.3"
    index: "4"
    fromtitle: "Legacy:Antiportal"
    byteoffset: 1017
    anchor: "Behavior"
  - toclevel: 2
    level: "3"
    line: "Zone Antiportals"
    number: "1.4"
    index: "5"
    fromtitle: "Legacy:Antiportal"
    byteoffset: 3533
    anchor: "Zone_Antiportals"
  - toclevel: 1
    level: "2"
    line: "BSP Surface Anti-portals"
    number: "2"
    index: "6"
    fromtitle: "Legacy:Antiportal"
    byteoffset: 5362
    anchor: "BSP_Surface_Anti-portals"
  - toclevel: 1
    level: "2"
    line: "Triggerable AntiPortalActors"
    number: "3"
    index: "7"
    fromtitle: "Legacy:Antiportal"
    byteoffset: 6651
    anchor: "Triggerable_AntiPortalActors"
  - toclevel: 2
    level: "4"
    line: "Destroyable Doors"
    number: "3.1"
    index: "8"
    fromtitle: "Legacy:Antiportal"
    byteoffset: 7312
    anchor: "Destroyable_Doors"
  - toclevel: 2
    level: "4"
    line: "Standard Doors"
    number: "3.2"
    index: "9"
    fromtitle: "Legacy:Antiportal"
    byteoffset: 8104
    anchor: "Standard_Doors"
  - toclevel: 2
    level: "4"
    line: "Examples"
    number: "3.3"
    index: "10"
    fromtitle: "Legacy:Antiportal"
    byteoffset: 8806
    anchor: "Examples"
  - toclevel: 1
    level: "2"
    line: "An Example"
    number: "4"
    index: "11"
    fromtitle: "Legacy:Antiportal"
    byteoffset: 8908
    anchor: "An_Example"
  - toclevel: 1
    level: "2"
    line: "A Warning"
    number: "5"
    index: "12"
    fromtitle: "Legacy:Antiportal"
    byteoffset: 9751
    anchor: "A_Warning"
  - toclevel: 1
    level: "2"
    line: "Seeing the Antiportal Effect"
    number: "6"
    index: "13"
    fromtitle: "Legacy:Antiportal"
    byteoffset: 12535
    anchor: "Seeing_the_Antiportal_Effect"
  - toclevel: 1
    level: "2"
    line: "Related Topics"
    number: "7"
    index: "14"
    fromtitle: "Legacy:Antiportal"
    byteoffset: 13323
    anchor: "Related_Topics"
  - toclevel: 1
    level: "2"
    line: "Discussion"
    number: "8"
    index: "15"
    fromtitle: "Legacy:Antiportal"
    byteoffset: 13625
    anchor: "Discussion"
  displaytitle: "Legacy:Antiportal"
  iwlinks:
  - prefix: "udn2"
    url: "http://udn.epicgames.com/Two/LevelOptimization"
    name: "udn2:LevelOptimization"
  - prefix: "udn2"
    url: "http://udn.epicgames.com/Two/VolumesTutorial"
    name: "udn2:VolumesTutorial"
  wikitext:
    text: "'''Antiportals''' are a new concept in [[Legacy:Unreal Engine Versions|version\
      \ 2]] of the [[Legacy:Unreal Engine|Unreal Engine]], [[Legacy:UT2003|UT2003]]\
      \ and onward. For more information on the transition from older versions, see\
      \ [[Legacy:Occlusion Changes For UnrealEngine2|Occlusion changes for UnrealEngine2]].\n\
      \nThey aren't a type of portal, and in fact shouldn't really be called \"antiportal\"\
      \ at all. They are '''occluding planes''': they prevent the rendering of things\
      \ behind them.\n\n==Two flavours==\n\n===AntiPortal Surfaces===\n\nThere are\
      \ two ways you do this:\n\n* define special planes with a special kind of Antiportal\
      \ brush\n* label particular BSP surfaces as antiportals, which causes them to\
      \ occlude\n\n===AntiPortalActor (the volume-ish kind)===\n\nThis type of '''Antiportal'''\
      \ is a type of [[Legacy:Brush|brush]]. It is placed with the special [[Legacy:Toolbox|toolbox]]\
      \ button and shows up as brown wireframe model, similar to a volume. Hiding\
      \ volumes (key O by default) will hide AntiPortalActors as well.\n\n===Behavior===\n\
      \nAn Antiportal speeds up the rendering of a view by occluding (hiding) everything\
      \ (geometry, actors etc) ''behind'' itself.  This has the effect of reducing\
      \ the [[Legacy:Polycount|polycount]] (the number of polygons visible) from a\
      \ particular location and therefore speeds the level up.\n\nAlthough Antiportals\
      \ can be placed in solid space (that is outside of the level) they must be touching\
      \ some subtracted space in order to be considered by the rendering engine &ndash;\
      \ this is so the engine knows which zone the antiportal affects. Also, an Antiportal\
      \ will only be considered for occlusion if the zone(s) the Antiportal exists\
      \ within is visible within the current viewport.  If an Antiportal is used by\
      \ the rendering engine then the entire Antiportal is used, whether it be in\
      \ solid or substracted space.\n\n{|\n\n|-\n|Not true for recent builds at least:\n\
      |\n<font color=\"#444444\">Antiportals are always treated as a cube.  Though\
      \ you can use a convex (see warning section) brush of any shape and size to\
      \ make an AntiPortal, the resulting area it occludes will '''always''' be a\
      \ box based on the extents of the original brush. This ''box'' rotates with\
      \ the brush, so you can have diagonal boxes for occlusion.</font>\n\n|}\n\n\
      AntiPortalActors may use any convex brush as their source geometry.  However,\
      \ to make their processing fast you should only use extrmely simple brushes,\
      \ such as sheets.\n\nAn Antiportal will occlude different parts of the [[Legacy:Unreal\
      \ World|Unreal World]] in different ways:\n* [[Legacy:BSP|BSP]] on a node by\
      \ node basis \n* if the bounding sphere of a [[Legacy:Static Mesh|static mesh]]\
      \ is visible the entire mesh will be rendered.  \n* an Antiportal will occlude\
      \ [[Legacy:Terrain|terrain]] in 16x16 blocks.  So even if a small part of a\
      \ 16x16 block is visible the whole block will be rendered.\n\nAn Antiportal\
      \ should never be substantially visible to the player - it should always be\
      \ hidden within a static mesh or other \"solid\" part of a level.  It's usually\
      \ OK if the corners stick out a bit as it's unlikely that the player would notice\
      \ any occlusion errors that small (but test from a wide range of angles to make\
      \ sure it looks OK).  It is, however, critical that the player not be allowed\
      \ to (even for an instant) get their camera inside the anti-portal volume. \
      \ If this happens the world stops rendering (even objects intersecting with\
      \ the antiportal) and a [[Legacy:Hall Of Mirrors|Hall Of Mirrors]] rendering\
      \ errors will occur until they move back outside of the antiportal.\n\n===Zone\
      \ Antiportals===\n\nThe game [[Legacy:Devastation|Devastation]] adds a new type\
      \ of Antiportal &ndash; the Zone Anitportal.\n\nZone AntiPortals are used to\
      \ cut down on the number of AntiPortals needed for a single building.  The idea\
      \ is if you have a building with a room inside it, that building should occlude\
      \ what's behind it.  With UT2k3, that means added a number of AntiPortals around\
      \ the building, making sure not to cover up any of the inside of the building\
      \ or the doorway.  This means for a single building you're using maybe 6 AntiPortals\
      \ for a building that may only be a basic box.  Zone AntiPortals let you select\
      \ the ZoneInfo of zones you don't wish the Zone AntiPortal to occlude.  This\
      \ means you can have a big building with a room inside, and only one big Zone\
      \ AntiPortal that occludes everything behind the building, but doesn't occlude\
      \ the room.\n\nThere are some quirks around using the Zone AntiPortals as they\
      \ cannot cover the Zone Portal which looks in to the zone you don't want it\
      \ to occlude, as the Zone Portal actually exists in the zone you're in, and\
      \ not in the zone you're trying not to occlude.\n\nThere may also be some issues\
      \ with listing multiple ZoneInfos in the Zone AntiPortal's ZoneInfo list where\
      \ only one or some of the zones are not occluded.  Sometimes it works, sometimes\
      \ it doesn't.  Some of the bugs with this were fixed near the end of the development\
      \ of the game so it might work now.\n\nThe map ''SP3M5-Bukko'' is a good example\
      \ of the different occlusion techniques as that uses zone occlusion, AntiPortals,\
      \ and Zone AntiPortals together.  The small store the troopers use as their\
      \ first spawner base is a Zone AntiPortal, and there are regular AntiPortals\
      \ on both sides of that street.\n\nIt is not known whether Zone Antiportals\
      \ have now been integrated into the main Unreal Engine.\n\n==BSP Surface Anti-portals==\n\
      \n''note: I'm calling these Anti-portals (with a hyphen) as the Surface Properties\
      \ window calls them that.''\n\nAnti-portals work very similarly to AntiPortalActors.\
      \  They occlude objects entirely behind them.  The advantage with BSP surface\
      \ Anti-portals is that if you already have BSP in the right places you don't\
      \ have to add new objects to the map.  There are several issues with BSP surface\
      \ anti-portals however.\n\nMost significantly, the original brush geometry is\
      \ used, not the geometry exposed in the map.  This means you can't flag a wall\
      \ that you cut a doorway through as an anti-portal because the original polygon\
      \ (without the doorway cut out of it) will be used for occlusion.\n\nThe second\
      \ issue with BSP surface Anti-portals is that each surface is treated as a separate\
      \ anti-portal.  Because an object is only occluded is if is entirely hidden\
      \ by one anti-portal, if an object is behind the seam between two BSP anti-portals\
      \ it will be visible.\n\nIn general you should stay away from BSP surface Anti-portals\
      \ unless they precisely fit the needs of your map.  A significant number of\
      \ the standard and bonus pack maps use BSP surface Anti-portals, but I believe\
      \ this may be because AntiPortalActors only became available shortly before\
      \ UT2003 shipped.\n\n==Triggerable AntiPortalActors==\n\n'''Note:''' Only tested\
      \ in UT2004, but should work in UT2003 as well.\n\nThis combination is a great\
      \ way to use AntiPortalActors for '''door'''s or '''Destroyable Objective SM'''s.\
      \ For example, you have a nice decorated tunnel, with a destroyable door or\
      \ a standard door at the entrance of it, you want to occlude the decorations,\
      \ but placing AntiPortalActors to the entrance will hide most of the tunnel,\
      \ even if the entrance door is opened or destroyed. Triggered AntiPortalActors\
      \ are here to solve this problem. AntiPortalActors are always activated, but\
      \ they are deactivateable (and reactivateable)!\n\n!Now let's create it!:\n\n\
      ====Destroyable Doors====\n#[[Legacy:Add An Actor|Add an Actor]] >> NavigationPoint\
      \ >> JumpDest >> JumpSpot >> GameObjective >> DestroyableObjective >> DestroyableObjective_SM,\
      \ select a cool static mesh for it, and move it into the needed place\n#Place\
      \ the AntiPortalActor to the correct place (inside or behind the DestroyableObjective_SM),\
      \ and [[Legacy:Set The Following Properties|set the following properties]]:\n\
      #*Events -> Tag = MyTriggeredAP\n#*Object -> InitialState = TriggerToggle\n\
      #Select your Destroyable Objective SM, [[Legacy:Set The Following Properties|set\
      \ the following properties]]:\n\n*DestroyableObjective_SM -> AntiPortalTag =\
      \ MyTriggeredAP\n\nOur DestroyableObjective will deactivate the MyTriggeredAP\
      \ tagged AntiPortalActor, when the objective is destroyed\n\n#Check it in-game!\n\
      \n====Standard Doors====\n#Create the whole door (including [[Legacy:Mover|Mover]]s,\
      \ [[Legacy:Trigger|Trigger]]s, but NavigationPoints don't affect our AP)\n#Place\
      \ the AntiPortalActor to the correct place (inside the door), and [[Legacy:Set\
      \ The Following Properties|set the following properties]]:\n#*Events -> Tag\
      \ = MyDoorAP\n#*Object -> InitialState = TriggerControl\n#Select one of your\
      \ Door's mover (only 1 mover if 2 movers for 1 door), [[Legacy:Set The Following\
      \ Properties|set the following properties]]:\n\n*Mover -> AntiPortalTag = MyDoorAP\n\
      \nThe door will deactivate the MyDoorAP tagged AntiPortalActor, when the door\
      \ starts opening, and will reactivate it when completely closed.\n\n#Check it\
      \ in-game!\n\n====Examples====\n\nPower Station Access Door - AS-Glacier\n\n\
      Suprise Door at Power Station - AS-Glacier\n\n==An Example==\n\nImagine a level\
      \ that has many static meshes that are \"possibly\" in the field of view, but\
      \ most of them are obscured by a single mesh in the center of the level.  A\
      \ static mesh does not cause other meshes behind it to be discarded from the\
      \ rendering queue as it will not occlude anything behind it.  This means that\
      \ all meshes within the field of view are rendered.\n\nBy placing an Antiportal\
      \ into the center of the large static mesh in the middle of the level we force\
      \ some occlusion to occur.  The performance of the level would be increased\
      \ as all of the static meshes completely behind the Antiportal would not be\
      \ rendered.\n\nAntiportals are particularly useful within maps that are based\
      \ \"outdoors\" or have large areas of terrain.  In these environments creating\
      \ zones becomes problematic because of the ''ceiling height''.\n\n==A Warning==\n\
      \nAntiPortals are slow, and should be used sparingly in most cases.  Once the\
      \ number of Antiportals in use starts to increase, the number of AntiPortals\
      \ starts to negate the rendering benefit of having those areas occluded.  Also,\
      \ it should be mentioned that though AntiPortals are created from brushes (that\
      \ includes both 3d shapes and 2d [[Legacy:Sheet|sheet]]s), they are not brushes\
      \ themselves.  </font color=\"#444444\">In fact, though you can use brushes\
      \ of any shape and size to make AntiPortals, the resulting area they occlude\
      \ will ALWAYS be a box based on the extents of the original brush.  This \"\
      box\" rotates with the brush, so you can have diagonal boxes for occlusion.</font>\n\
      \n'''Wormbo:''' That can't be correct. If AntiPortals were boxes, you'd see\
      \ a lot more HOM effects. Can anyone confirm this, please? [[:Category:Legacy\
      \ Answer Needed]]\n\n'''EntropicLqd:''' That is correct.  Anti-portals are always\
      \ hidden in other brushes or within mountains and stuff - which is why you don't\
      \ see the HOM effects - there is always geometry in front.  It'll be interesting\
      \ to see if they are supported by UE3.\n\n'''Wormbo:''' I used pyramid-shaped\
      \ (square base, tip down) antiportals in JB-Aswan-v2 and both real-time wireframe\
      \ view in UEd and rmode 1 in game suggest that they really occlude stuff behind\
      \ the pyramid (i.e. ''not'' a box) shape.\n\n'''EntropicLqd:''' Interesting.\
      \  I've not done any mapping with the 2K4 editor - it's entirely possible that\
      \ Epic ''improved'' their behaviour to make it more intuitive.  I would expect\
      \ rmode 1 to be the \"arbiter of truth though\".   Certianly the description\
      \ fits with how I remember it working in Devastation (although that was a long\
      \ long time ago, and before 2K3 & 2K4).\n\nThe CPU overhead for occlusion with\
      \ boxes and sheets are actually the same, as AntiPortals treat sheets as infinitely\
      \ thin boxes.  The CPU overhead for 8-sided cylinders is about 50% higher than\
      \ for boxes, but this might be worth it if you only have a handful of complex\
      \ static meshes up for occlusion.\n\nIf an Antiportal volume is not convex it\
      \ will cause the game to hang as soon as the offending concave Antiportal is\
      \ in view. (actually this is not true, last I tried it with the latest version\
      \ of UT2004 it will just cause the antiportal to stop working entirely) A convex\
      \ shape is one where the angle from any vertex to any other vertex is <= 180\
      \ degrees.  A simpler way to think of it is that a straight line drawn between\
      \ any two points on the surface of the shape must not go outside the shape.\n\
      \nFinally Sheets created in the 2D Shape Editor will not work as AntiPortalActors.\
      \  I'm not exactly sure what the deal is, but if their in the view frustum they\
      \ occlude EVERYTHING.  You can use them as BSP surface Anti-portals just fine\
      \ however.\n\n==Seeing the Antiportal Effect==\n\nWithin UT2003 (works in devastation\
      \ too) type ''RMODE 1'' into the Console (see [[Legacy:Console Commands|Console\
      \ Commands]] for more information).  This will place the renderer into wireframe\
      \ mode.  Static meshes and brushes will not be shown within this view if they\
      \ are fully behind an Antiportal.\n\nIn UnrealEd, do the following in a 3D viewport:\n\
      \n* activate [[Legacy:Realtime Preview|realtime preview]]\n* Toggle [[Legacy:Viewport\
      \ Caption Context Menu|Viewport Caption Context Menu]] -> View -> Show Volumes\
      \ to show [[Legacy:Volume|volume]]s\n* view complexity mode (last button, funky\
      \ green->red color ramp) can be useful to see if your antiportals are working.\
      \  Turning off terrain (hit 't') and BSP (hit 'q') will let you see static mesh\
      \ overdraw.\n\n==Related Topics==\n\nSee the following pages for more information\
      \ on level optimization.\n* [[Legacy:Map Optimization|Map Optimization]]\n*\
      \ [[Legacy:Zoning|Zoning]]\n* [[udn2:LevelOptimization]] - The UDN's level optimisation\
      \ page.\n* [[udn2:VolumesTutorial]] - the AntiPortalActors section at the bottom.\n\
      \n==Discussion==\n\n'''Foxpaw:''' Above it refers to the \"bounding sphere\"\
      \ of a static mesh. Is that referring to the collision data of the static mesh\
      \ or something else?\n\n'''inio:''' Bounding spheres are used for visibility\
      \ (GetRenderBoundingSphere) and probably also for the first pass of collision\
      \ tests.  Spheres are used because plane/sphere and sphere/sphere tests are\
      \ extremely fast.\n\n'''inio:''' I added some info on Anti-portal BSP surfaces\
      \ and expanded the AntiPortalActor section a bit.  Also, all the bits about\
      \ the bounding box being used for AntiPortalActors seem to be entirely incorrect\
      \ (under no circumstances did I ever see the bounding box used instead of the\
      \ actual geometry).\n\nMy testing methods for collecting data about what works,\
      \ what doesn't, and performance:\n#Make a 8k square cube\n# by recursive duplication,\
      \ spread about 4000 EffectMehses.DirtChunk_01aw static meshes around about say\
      \ 4k square on the floor and scale them up a bit (drawscale = 3)\n#  for various\
      \ antiportal setups, place 64 identical antiportals above this, with the camera\
      \ locked in place at the top of the center of the 8k room looking straight down.\n\
      \n'''Tarquin:''' Roughly how many APs is ok &ndash; is there any rule of thumb,\
      \ say, for the number of zones in the map, of the number of static meshes in\
      \ total, or something?\n\n'''EntropicLqd:''' Its going back a bit (and I've\
      \ lost the original email due to a HD crash) but I remember the guy from the\
      \ Devastation dev. team saying that once the number of AP's got above 9 they\
      \ tended to become prohibitively expensive.  That's on an earlier version of\
      \ the engine though so some optimisation has almost certainly taken place.\n\
      \n'''Ragdoll:'''Ive seen devastation maps with way more antiportals than that.\
      \ Im not sure sure if theres a limit to the number of zone antiportals you can\
      \ have before it starts to become too costly though.\n\n'''MythOpus:''' But\
      \ do any of the Devestation maps use the newer level area occlude methods too?\
      \  I forget what it is and how to do it.  There's a page on the wiki but it\
      \ involves telling the renderer to just not render certain parts of the map\
      \ based on where the player is.  Its different from the Anti-Portals and if\
      \ you use both in conjunction it would probably ignore the limits and run better.\
      \  Perhaps they've used that?\n\n[[Category:Legacy Answer Needed|{{PAGENAME}}]]\n\
      [[Category:Legacy Mapping|{{PAGENAME}}]]"
  properties: []
  revId: 1286
name: "Legacy:Antiportal"
revision:
  revid: 1286
  parentid: 1287
  user: "71-17-22-38.regn.hsdb.sasknet.sk.ca"
  timestamp: 1184356707.000000000
  comment: "*"
timestamp: 1668762242.770587000
