---
parse:
  title: "Legacy:Regen Mutator"
  text:
    text: "<p><i>This page is one of a series of <a href=\"/Legacy:UnrealScript_Lessons\"\
      \ title=\"Legacy:UnrealScript Lessons\">UnrealScript Lessons</a>.</i></p>\n\
      <p>Previous tutorials:</p>\n<ul>\n<li>You've set up your environment: <a href=\"\
      /Legacy:Setting_Up_UnrealScript\" title=\"Legacy:Setting Up UnrealScript\">Setting\
      \ Up UnrealScript</a></li>\n<li>You've made a simple text mutator: <a href=\"\
      /Legacy:UnrealScript_Hello_World\" title=\"Legacy:UnrealScript Hello World\"\
      >UnrealScript Hello World</a></li>\n</ul>\n<p>This page is geared towards <a\
      \ href=\"/Legacy:UT2003\" title=\"Legacy:UT2003\" class=\"mw-redirect\">UT2003</a>\
      \ where needed notes are added for <a href=\"/Legacy:UT2004\" title=\"Legacy:UT2004\"\
      \ class=\"mw-redirect\">UT2004</a>.</p>\n<p>Now we're going to make a <a href=\"\
      /Legacy:Mutator\" title=\"Legacy:Mutator\">mutator</a> that actually <i>does\
      \ something</i>.</p>\n<p></p>\n<div id=\"toc\" class=\"toc\">\n<div id=\"toctitle\"\
      >\n<h2>Contents</h2>\n</div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a\
      \ href=\"#Make_Your_Own_Package\"><span class=\"tocnumber\">1</span> <span class=\"\
      toctext\">Make Your Own Package</span></a></li>\n<li class=\"toclevel-1 tocsection-2\"\
      ><a href=\"#Subclassing\"><span class=\"tocnumber\">2</span> <span class=\"\
      toctext\">Subclassing</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-3\"\
      ><a href=\"#UT2003_only.2C_for_UT2004_read_on.2C_you_will_find_the_complete_code_in_the_next_paragraph.\"\
      ><span class=\"tocnumber\">2.1</span> <span class=\"toctext\">UT2003 only, for\
      \ UT2004 read on, you will find the complete code in the next paragraph.</span></a></li>\n\
      </ul>\n</li>\n<li class=\"toclevel-1 tocsection-4\"><a href=\"#Writing_the_script\"\
      ><span class=\"tocnumber\">3</span> <span class=\"toctext\">Writing the script</span></a>\n\
      <ul>\n<li class=\"toclevel-2 tocsection-5\"><a href=\"#for_UT2003\"><span class=\"\
      tocnumber\">3.1</span> <span class=\"toctext\">for UT2003</span></a></li>\n\
      <li class=\"toclevel-2 tocsection-6\"><a href=\"#for_UT2004\"><span class=\"\
      tocnumber\">3.2</span> <span class=\"toctext\">for UT2004</span></a></li>\n\
      </ul>\n</li>\n<li class=\"toclevel-1 tocsection-7\"><a href=\"#Compiling_Your_Script\"\
      ><span class=\"tocnumber\">4</span> <span class=\"toctext\">Compiling Your Script</span></a>\n\
      <ul>\n<li class=\"toclevel-2 tocsection-8\"><a href=\"#for_UT2003_2\"><span\
      \ class=\"tocnumber\">4.1</span> <span class=\"toctext\">for UT2003</span></a></li>\n\
      <li class=\"toclevel-2 tocsection-9\"><a href=\"#for_UT2004_2\"><span class=\"\
      tocnumber\">4.2</span> <span class=\"toctext\">for UT2004</span></a></li>\n\
      </ul>\n</li>\n<li class=\"toclevel-1 tocsection-10\"><a href=\"#Fire_it_Up\"\
      ><span class=\"tocnumber\">5</span> <span class=\"toctext\">Fire it Up</span></a></li>\n\
      <li class=\"toclevel-1 tocsection-11\"><a href=\"#Related_Topics\"><span class=\"\
      tocnumber\">6</span> <span class=\"toctext\">Related Topics</span></a></li>\n\
      <li class=\"toclevel-1 tocsection-12\"><a href=\"#Comments\"><span class=\"\
      tocnumber\">7</span> <span class=\"toctext\">Comments</span></a></li>\n</ul>\n\
      </div>\n<p></p>\n<h2><span class=\"mw-headline\" id=\"Make_Your_Own_Package\"\
      >Make Your Own Package</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\"\
      >[</span><a href=\"/edit/Legacy:Regen_Mutator?section=1\" title=\"Edit section:\
      \ Make Your Own Package\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h2>\n\
      <p>While some editors don't require you to do this by hand, it's so easy it\
      \ seems silly not to. To <a href=\"/Legacy:Set_Up_Package_Folders\" title=\"\
      Legacy:Set Up Package Folders\">set up package folders</a> that the compiler\
      \ will recognize, just create a new directory within the <a href=\"/Legacy:Base_Directory\"\
      \ title=\"Legacy:Base Directory\">Base Directory</a>, named the same as your\
      \ package e.g. \"MyPackage\". In it, make a subdirectory called \"Classes\"\
      :</p>\n<div style=\"font-family: monospace; white-space: preserve; line-height:\
      \ 1em;\">{Base Directory}<br /></div>\n<div style=\"font-family: monospace;\
      \ white-space: preserve; line-height: 1em;\">__TREETAG_2__MyPackage<br /></div>\n\
      <div style=\"font-family: monospace; white-space: preserve; line-height: 1em;\"\
      >__TREETAG_0____TREETAG_2__Classes<br /></div>\n<p>Finally, open your UT2003.ini\
      \ (for UT2004 open UT2004.ini) and find the list of \"EditPackages\". Add \"\
      EditPackages=MyPackage\" to the list. The compiler will now attempt to compile\
      \ your package with the rest.</p>\n<blockquote class=\"legacyquote\">\n<p>Quicknote\
      \ about the order of EditPackages - if you have one package dependant on the\
      \ other, the dependant package must come after the other one. Notice how the\
      \ first package in the list is \"Core\"</p>\n</blockquote>\n<p>Now go to your\
      \ command prompt, CD down to your {<a href=\"/Legacy:Base_Directory\" title=\"\
      Legacy:Base Directory\">Base Directory</a>}/System directory and type</p>\n\
      <pre>ucc make\n</pre>\n<p>Voila! You get ... an error! That's because your package\
      \ is completely empty. Let's quickly fix that.</p>\n<h2><span class=\"mw-headline\"\
      \ id=\"Subclassing\">Subclassing</span><span class=\"mw-editsection\"><span\
      \ class=\"mw-editsection-bracket\">[</span><a href=\"/edit/Legacy:Regen_Mutator?section=2\"\
      \ title=\"Edit section: Subclassing\">edit</a><span class=\"mw-editsection-bracket\"\
      >]</span></span></h2>\n<h3><span class=\"mw-headline\" id=\"UT2003_only.2C_for_UT2004_read_on.2C_you_will_find_the_complete_code_in_the_next_paragraph.\"\
      >UT2003 only, for UT2004 read on, you will find the complete code in the next\
      \ paragraph.</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\"\
      >[</span><a href=\"/edit/Legacy:Regen_Mutator?section=3\" title=\"Edit section:\
      \ UT2003 only, for UT2004 read on, you will find the complete code in the next\
      \ paragraph.\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h3>\n\
      <p>Go into the directory XGame/Classes and open the file \"MutRegen.uc\" with\
      \ your editor of choice. Resave this file into your own package's class directory\
      \ as \"MutRegenPlus.uc.\" Take care not to directly edit any of the classes\
      \ that came with the game. If you do, the package size will become invalid and\
      \ you won't be able to play online and you might possibly break the game itself.</p>\n\
      <p>Your first step to making MutRegen your own is changing the classname to\
      \ match what you saved the file as. So change:</p>\n<div dir=\"ltr\" class=\"\
      mw-geshi mw-code mw-content-ltr\">\n<div class=\"uscript source-uscript\">\n\
      <pre class=\"de1\"><span class=\"co1\">//=============================================================================</span>\n\
      <span class=\"co1\">// MutRegen - regenerates players</span>\n<span class=\"\
      co1\">//=============================================================================</span>\n\
      <span class=\"kw1\">class</span> MutRegen <span class=\"kw1\">extends</span>\
      \ <span class=\"kw9\">Mutator</span>;</pre></div>\n</div>\n<p>to:</p>\n<div\
      \ dir=\"ltr\" class=\"mw-geshi mw-code mw-content-ltr\">\n<div class=\"uscript\
      \ source-uscript\">\n<pre class=\"de1\"><span class=\"co1\">//=============================================================================</span>\n\
      <span class=\"co1\">// MutRegenPlus - regenerates players plus!</span>\n<span\
      \ class=\"co1\">//=============================================================================</span>\n\
      <span class=\"kw1\">class</span> MutRegenPlus <span class=\"kw1\">extends</span>\
      \ <span class=\"kw9\">Mutator</span>;</pre></div>\n</div>\n<h2><span class=\"\
      mw-headline\" id=\"Writing_the_script\">Writing the script</span><span class=\"\
      mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/edit/Legacy:Regen_Mutator?section=4\"\
      \ title=\"Edit section: Writing the script\">edit</a><span class=\"mw-editsection-bracket\"\
      >]</span></span></h2>\n<h3><span class=\"mw-headline\" id=\"for_UT2003\">for\
      \ UT2003</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\"\
      >[</span><a href=\"/edit/Legacy:Regen_Mutator?section=5\" title=\"Edit section:\
      \ for UT2003\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h3>\n\
      <p>You should also go ahead and change the default properties from:</p>\n<div\
      \ dir=\"ltr\" class=\"mw-geshi mw-code mw-content-ltr\">\n<div class=\"uscript\
      \ source-uscript\">\n<pre class=\"de1\">GroupName<span class=\"sy0\">=</span><span\
      \ class=\"st0\">\"Regen\"</span>\nFriendlyName<span class=\"sy0\">=</span><span\
      \ class=\"st0\">\"Regeneration\"</span>\nDescription<span class=\"sy0\">=</span><span\
      \ class=\"st0\">\"All players regenerate health.\"</span></pre></div>\n</div>\n\
      <p>to:</p>\n<div dir=\"ltr\" class=\"mw-geshi mw-code mw-content-ltr\">\n<div\
      \ class=\"uscript source-uscript\">\n<pre class=\"de1\">GroupName<span class=\"\
      sy0\">=</span><span class=\"st0\">\"Regen\"</span>\nFriendlyname<span class=\"\
      sy0\">=</span><span class=\"st0\">\"Regeneration Plus\"</span>\nDescription<span\
      \ class=\"sy0\">=</span><span class=\"st0\">\"All players regenerate health\
      \ to superhealth limits.\"</span></pre></div>\n</div>\n<p>Now what fun is modding\
      \ if you don't modify anything? Take the line down below that says:</p>\n<div\
      \ dir=\"ltr\" class=\"mw-geshi mw-code mw-content-ltr\">\n<div class=\"uscript\
      \ source-uscript\">\n<pre class=\"de1\">\t<span class=\"kw2\">if</span> <span\
      \ class=\"br0\">(</span>C.<span class=\"kw9\">Pawn</span> <span class=\"sy0\"\
      >!=</span> <span class=\"kw5\">None</span> <span class=\"sy0\">&amp;&amp;</span>\
      \ C.<span class=\"kw9\">Pawn</span>.<span class=\"me0\">Health</span> <span\
      \ class=\"sy0\">&lt;</span> C.<span class=\"kw9\">Pawn</span>.<span class=\"\
      me0\">HealthMax</span> <span class=\"br0\">)</span>\n        <span class=\"\
      br0\">{</span>\n            C.<span class=\"kw9\">Pawn</span>.<span class=\"\
      me0\">Health</span> <span class=\"sy0\">=</span> <span class=\"kw3\">Min</span><span\
      \ class=\"br0\">(</span> C.<span class=\"kw9\">Pawn</span>.<span class=\"me0\"\
      >Health</span><span class=\"sy0\">+</span>RegenPerSecond, C.<span class=\"kw9\"\
      >Pawn</span>.<span class=\"me0\">HealthMax</span> <span class=\"br0\">)</span>;\n\
      \        <span class=\"br0\">}</span></pre></div>\n</div>\n<p>And change it\
      \ to:</p>\n<div dir=\"ltr\" class=\"mw-geshi mw-code mw-content-ltr\">\n<div\
      \ class=\"uscript source-uscript\">\n<pre class=\"de1\">        <span class=\"\
      kw2\">if</span> <span class=\"br0\">(</span>C.<span class=\"kw9\">Pawn</span>\
      \ <span class=\"sy0\">!=</span> <span class=\"kw5\">None</span> <span class=\"\
      sy0\">&amp;&amp;</span> C.<span class=\"kw9\">Pawn</span>.<span class=\"me0\"\
      >Health</span> <span class=\"sy0\">&lt;</span> C.<span class=\"kw9\">Pawn</span>.<span\
      \ class=\"me0\">HealthMax</span><span class=\"sy0\">*</span><span class=\"nu0\"\
      >2</span> <span class=\"br0\">)</span>\n        <span class=\"br0\">{</span>\n\
      \            C.<span class=\"kw9\">Pawn</span>.<span class=\"me0\">Health</span>\
      \ <span class=\"sy0\">=</span> <span class=\"kw3\">Min</span><span class=\"\
      br0\">(</span> C.<span class=\"kw9\">Pawn</span>.<span class=\"me0\">Health</span><span\
      \ class=\"sy0\">+</span>RegenPerSecond, C.<span class=\"kw9\">Pawn</span>.<span\
      \ class=\"me0\">HealthMax</span><span class=\"sy0\">*</span><span class=\"nu0\"\
      >2</span> <span class=\"br0\">)</span>;\n        <span class=\"br0\">}</span></pre></div>\n\
      </div>\n<p>You just altered the second variable of the Min function, which is\
      \ essentially the cap that can be returned.</p>\n<p>Save your file and prepare\
      \ for compiling.</p>\n<h3><span class=\"mw-headline\" id=\"for_UT2004\">for\
      \ UT2004</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\"\
      >[</span><a href=\"/edit/Legacy:Regen_Mutator?section=6\" title=\"Edit section:\
      \ for UT2004\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h3>\n\
      <p>For UT2004 the \"MutRegen.uc\" does not exist, but the code can be extracted\
      \ from \"System/XGame.u\".</p>\n<p>Here you find the \"Regeneration Plus\" (with\
      \ modifications):</p>\n<div dir=\"ltr\" class=\"mw-geshi mw-code mw-content-ltr\"\
      >\n<div class=\"uscript source-uscript\">\n<pre class=\"de1\"><span class=\"\
      co1\">// MutRegenPlus - regenerates players to superhealth</span>\n<span class=\"\
      co1\">//=============================================================================</span>\n\
      <span class=\"kw1\">class</span> MutRegenPlus <span class=\"kw1\">extends</span>\
      \ <span class=\"kw9\">Mutator</span>;\n \n<span class=\"kw1\">var</span><span\
      \ class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"kw5\">float</span>\
      \ RegenPerSecond;\n \n<span class=\"co1\">// Don't call Actor PreBeginPlay()\
      \ for Mutator </span>\n<span class=\"kw1\">event</span> <span class=\"kw4\"\
      >PreBeginPlay</span><span class=\"br0\">(</span><span class=\"br0\">)</span>\n\
      <span class=\"br0\">{</span>\n    <span class=\"kw4\">SetTimer</span><span class=\"\
      br0\">(</span><span class=\"nu0\">1.0</span>,<span class=\"kw6\">true</span><span\
      \ class=\"br0\">)</span>;\n<span class=\"br0\">}</span>\n \n<span class=\"kw1\"\
      >function</span> <span class=\"kw4\">Timer</span><span class=\"br0\">(</span><span\
      \ class=\"br0\">)</span>\n<span class=\"br0\">{</span>\n    <span class=\"kw1\"\
      >local</span> <span class=\"kw9\">Controller</span> C;\n \n    <span class=\"\
      kw2\">for</span> <span class=\"br0\">(</span>C <span class=\"sy0\">=</span>\
      \ <span class=\"kw7\">Level</span>.<span class=\"me0\">ControllerList</span>;\
      \ C <span class=\"sy0\">!=</span> <span class=\"kw5\">None</span>; C <span class=\"\
      sy0\">=</span> C.<span class=\"me0\">NextController</span><span class=\"br0\"\
      >)</span>\n    <span class=\"br0\">{</span>\n\t<span class=\"kw2\">if</span>\
      \ <span class=\"br0\">(</span>C.<span class=\"kw9\">Pawn</span> <span class=\"\
      sy0\">!=</span> <span class=\"kw5\">None</span> <span class=\"sy0\">&amp;&amp;</span>\
      \ C.<span class=\"kw9\">Pawn</span>.<span class=\"me0\">Health</span> <span\
      \ class=\"sy0\">&lt;</span> C.<span class=\"kw9\">Pawn</span>.<span class=\"\
      me0\">HealthMax</span><span class=\"sy0\">*</span><span class=\"nu0\">2</span>\
      \ <span class=\"br0\">)</span>\n        <span class=\"br0\">{</span>\n     \
      \       C.<span class=\"kw9\">Pawn</span>.<span class=\"me0\">Health</span>\
      \ <span class=\"sy0\">=</span> <span class=\"kw3\">Min</span><span class=\"\
      br0\">(</span> C.<span class=\"kw9\">Pawn</span>.<span class=\"me0\">Health</span><span\
      \ class=\"sy0\">+</span><span class=\"nu0\">20</span>, C.<span class=\"kw9\"\
      >Pawn</span>.<span class=\"me0\">HealthMax</span><span class=\"sy0\">*</span><span\
      \ class=\"nu0\">2</span> <span class=\"br0\">)</span>;\n        <span class=\"\
      br0\">}</span>\n    <span class=\"br0\">}</span>\n<span class=\"br0\">}</span>\n\
      \ \n<span class=\"kw1\">defaultproperties</span>\n<span class=\"br0\">{</span>\n\
      \  GroupName<span class=\"sy0\">=</span><span class=\"st0\">\"Regen\"</span>\n\
      \  Friendlyname<span class=\"sy0\">=</span><span class=\"st0\">\"Regeneration\
      \ Plus\"</span>\n  Description<span class=\"sy0\">=</span><span class=\"st0\"\
      >\"All players regenerate health to superhealth limits.\"</span>\n<span class=\"\
      br0\">}</span></pre></div>\n</div>\n<h2><span class=\"mw-headline\" id=\"Compiling_Your_Script\"\
      >Compiling Your Script</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\"\
      >[</span><a href=\"/edit/Legacy:Regen_Mutator?section=7\" title=\"Edit section:\
      \ Compiling Your Script\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h2>\n\
      <h3><span class=\"mw-headline\" id=\"for_UT2003_2\">for UT2003</span><span class=\"\
      mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/edit/Legacy:Regen_Mutator?section=8\"\
      \ title=\"Edit section: for UT2003\">edit</a><span class=\"mw-editsection-bracket\"\
      >]</span></span></h3>\n<p>Before you can compile you will need to make some\
      \ changes to your UT2003.ini file that's in your UT2003/System directory. Open\
      \ the UT2003.ini file and locate the list of of \"EditPackages\" under [Editor.EditorEngine].\
      \ Add your package to the end of that list (e.g. \"EditPackages=MyPackage\"\
      ).</p>\n<blockquote class=\"legacyquote\">\n<p>Quicknote about the order of\
      \ EditPackages - if you have one package dependant on the other, the dependant\
      \ package must come after the other one. Notice how the first package in the\
      \ list is \"Core.\"</p>\n</blockquote>\n<p>Open up a command prompt, CD to your\
      \ UT2003/System directory, and type \"ucc make\" (see <a href=\"/Legacy:Compiling_With_UCC\"\
      \ title=\"Legacy:Compiling With UCC\">Compiling With UCC</a>). You should get\
      \ something that looks like this:</p>\n<div dir=\"ltr\" class=\"mw-geshi mw-code\
      \ mw-content-ltr\">\n<div class=\"uscript source-uscript\">\n<pre class=\"de1\"\
      ><span class=\"sy0\">-------------------------</span>MyPackage <span class=\"\
      sy0\">-</span> Release<span class=\"sy0\">--------------------------</span>\n\
      Analyzing...\n<span class=\"me0\">Parsing</span> MutRegenPlus\nCompiling MutRegenPlus\n\
      Importing Defaults <span class=\"kw2\">for</span> MutRegenPlus\nSuccess <span\
      \ class=\"sy0\">-</span> <span class=\"nu0\">0</span> <span class=\"kw4\">error</span><span\
      \ class=\"br0\">(</span>s<span class=\"br0\">)</span>, <span class=\"nu0\">0</span>\
      \ warning<span class=\"br0\">(</span>s<span class=\"br0\">)</span>\n \nD:\\\
      UT2003\\System<span class=\"sy0\">&gt;</span></pre></div>\n</div>\n<blockquote\
      \ class=\"legacyquote\">\n<p>Quick note on compiling - if you don't see the\
      \ above, make sure the UT2003.ini file hasn't been rewritten again without your\
      \ EditPackages line it from a previous attempt at compiling. If it has, make\
      \ sure to close out of any programs which might have opened it after putting\
      \ it back in and recompiling. (This can happen if you have UnrealED or UT2003\
      \ open while you edit the .ini file. As soon as you quit either, they will overwrite\
      \ your .ini with whatever was current when they were launched.)</p>\n</blockquote>\n\
      <p>There should now be a .u file with your package name on it in the UT2003/System\
      \ directory. But, before you can see your new codework in the game, there is\
      \ another step you need to do. The code is there, but you have to tell the game\
      \ to see it. To do this, you'll need to make an <a href=\"/Legacy:INT_File\"\
      \ title=\"Legacy:INT File\">INT file</a> named after your package in the System\
      \ directory. This is a file which will describe to the engine the most basic\
      \ parts of your package. For now, just copy:</p>\n<div dir=\"ltr\" class=\"\
      mw-geshi mw-code mw-content-ltr\">\n<div class=\"uscript source-uscript\">\n\
      <pre class=\"de1\"><span class=\"br0\">[</span><span class=\"kw1\">Public</span><span\
      \ class=\"br0\">]</span>\n<span class=\"kw8\">Object</span><span class=\"sy0\"\
      >=</span><span class=\"br0\">(</span><span class=\"kw1\">Class</span><span class=\"\
      sy0\">=</span><span class=\"kw1\">Class</span>,MetaClass<span class=\"sy0\"\
      >=</span><span class=\"kw8\">Engine</span>.<span class=\"kw9\">Mutator</span>,<span\
      \ class=\"kw5\">Name</span><span class=\"sy0\">=</span>MyPackage.<span class=\"\
      me0\">MutRegenPlus</span>,Description<span class=\"sy0\">=</span><span class=\"\
      st0\">\"Regeneration Plus\"</span><span class=\"br0\">)</span></pre></div>\n\
      </div>\n<p>And save it into your package's .int file (e.g. MyPackage.int). If\
      \ you make any other changes to your .uc script file, recompile your code.</p>\n\
      <h3><span class=\"mw-headline\" id=\"for_UT2004_2\">for UT2004</span><span class=\"\
      mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/edit/Legacy:Regen_Mutator?section=9\"\
      \ title=\"Edit section: for UT2004\">edit</a><span class=\"mw-editsection-bracket\"\
      >]</span></span></h3>\n<p>To compile and create the UT2004 .int and .ucl files\
      \ use:</p>\n<blockquote class=\"legacyquote\">\n<p>ucc make</p>\n<p>ucc dumpint\
      \ MyPackage.u</p>\n<p>ucc exportcache MyPackage.u</p>\n</blockquote>\n<p>For\
      \ details on this see <a href=\"/Legacy:UnrealScript_Hello_World\" title=\"\
      Legacy:UnrealScript Hello World\">UnrealScript Hello World</a>.</p>\n<h2><span\
      \ class=\"mw-headline\" id=\"Fire_it_Up\">Fire it Up</span><span class=\"mw-editsection\"\
      ><span class=\"mw-editsection-bracket\">[</span><a href=\"/edit/Legacy:Regen_Mutator?section=10\"\
      \ title=\"Edit section: Fire it Up\">edit</a><span class=\"mw-editsection-bracket\"\
      >]</span></span></h2>\n<p>Go ahead and start up UT2003 or UT2004. Go into Instant\
      \ Action. Select \"Regeneration Plus\" into your mutator list, and watch as\
      \ you regenerate to 200 health.</p>\n<blockquote class=\"legacyquote\">\n<p>Quicknote\
      \ on changing this mute! Let's say you want to regenrate 300 health insted of\
      \ 200. You have already compiled your mutator. You can't just change the MutRegenPlus.uc\
      \ and ucc make. To change it go to your {<a href=\"/Legacy:Base_Directory\"\
      \ title=\"Legacy:Base Directory\">Base Directory</a>}/System directory. Delete\
      \ MutRegenPlus.u and MutRegenPlus.ucl. Make the changes in your MutRegenPlus.uc\
      \ file and ucc make it!</p>\n</blockquote>\n<p><i>This tutorial was originally\
      \ part of <a href=\"/Legacy:RegularX\" title=\"Legacy:RegularX\">RegularX</a>'s\
      \ <a href=\"/edit/Legacy:UTutes?redlink=1\" class=\"new\" title=\"Legacy:UTutes\
      \ (page does not exist)\">UTutes</a> series.</i></p>\n<h2><span class=\"mw-headline\"\
      \ id=\"Related_Topics\">Related Topics</span><span class=\"mw-editsection\"\
      ><span class=\"mw-editsection-bracket\">[</span><a href=\"/edit/Legacy:Regen_Mutator?section=11\"\
      \ title=\"Edit section: Related Topics\">edit</a><span class=\"mw-editsection-bracket\"\
      >]</span></span></h2>\n<ul>\n<li><a href=\"/Legacy:Modify_Mutator_Tutorial\"\
      \ title=\"Legacy:Modify Mutator Tutorial\">Modify Mutator Tutorial</a> – your\
      \ recommended next step</li>\n<li><a href=\"/Legacy:UnrealScript_Lessons\" title=\"\
      Legacy:UnrealScript Lessons\">UnrealScript Lessons</a> – all the UnrealScript\
      \ tutorials</li>\n<li><a href=\"/Legacy:UnrealScript\" title=\"Legacy:UnrealScript\"\
      >UnrealScript</a> – all the reference pages</li>\n<li><a href=\"/Legacy:Mutator_Topics\"\
      \ title=\"Legacy:Mutator Topics\">Mutator Topics</a> – more on mutators</li>\n\
      <li><a href=\"/Legacy:Making_Mods\" title=\"Legacy:Making Mods\">Making Mods</a>\
      \ – more on the organizational and social aspects</li>\n</ul>\n<h2><span class=\"\
      mw-headline\" id=\"Comments\">Comments</span><span class=\"mw-editsection\"\
      ><span class=\"mw-editsection-bracket\">[</span><a href=\"/edit/Legacy:Regen_Mutator?section=12\"\
      \ title=\"Edit section: Comments\">edit</a><span class=\"mw-editsection-bracket\"\
      >]</span></span></h2>\n<p><b>DaWrecka</b>: Is there a reason this tutorial involves\
      \ COPYING a source file, rather than subclassing? I would've thought that with\
      \ the <a href=\"/Legacy:UnrealScript_Hello_World\" title=\"Legacy:UnrealScript\
      \ Hello World\">UnrealScript Hello World</a> touching on inheritance, this would've\
      \ been a perfect place to expand on it a bit further. I know the next one goes\
      \ into it further but I don't see how using it here and explaining it in light\
      \ depth would hurt.</p>\n<p><b>CH3Z:</b> DaWrecka, this is a very light tutorial\
      \ as far as code and programming concept goes. The intent of this tutorial is\
      \ to give a walkthrough of the whole proccess of setting up your environment,\
      \ creating a subclass and running it through the compiler, then creating the\
      \ int file so it can be used. This would not be the perfect place to get into\
      \ the whole concept of inheritance. You might want to visit one of the many\
      \ pages here on the wiki about Object Oriented Programming for more on that.\
      \ Use the quickbar on your left and start at \"UnrealScript Topics\". As far\
      \ as COPYING the source file, the author of this tutorial is trying have you\
      \ use that file as a template for the purpose of getting you through the process\
      \ at hand. Once you've copied it then you change the class declaration it becomes\
      \ a new class. The class that is being subclassed is Mutator, not MutRegen so\
      \ its not like we're copying a class instead of subclassing one. We copied one\
      \ to use as a template, now after we make that \"copy\" its own class via the\
      \ declaration, we have a new class that is a subclass of Mutator and therefore\
      \ inherits Mutator's code. Did you go through this tutorial? It would make more\
      \ sense if you did. Maybe this tut needs an introduction that explains its purpose\
      \ and later explains that we are copying MutRegen to use it as a template.</p>\n\
      <p><b>Sweavo:</b> in my experience copying is often much simpler than subclassing,\
      \ and is arguably the right thing to do. Subclassing is apropriate when you\
      \ are sure you are not going to break any of the behaviour of the superclass,\
      \ e.g. if I subclass the flak canon then all the existing code that tests for\
      \ whether something is a flak canon will pass when it runs on my weapon. Looking\
      \ at the UT script code, most superclasses are abstract in the sense that they\
      \ have been created for the main purpose of getting subclassed: the firemodes\
      \ for projectiles and for instant hit, for instance, or ONSWheeledVehicle, ONSHoverVehicle\
      \ etc (names from memory). Just because something is similar to something else\
      \ does not make it a subclass. Ask yourself whether you're convinced the new\
      \ object will do <i>everything</i> the code wanted the superclass to do.</p>\n\
      <p><b>Atlantis|TheKing:</b> UT2004 notes added.</p>\n\n<!-- \nNewPP limit report\n\
      CPU time usage: 0.201 seconds\nReal time usage: 0.261 seconds\nPreprocessor\
      \ visited node count: 184/1000000\nPreprocessor generated node count: 373/1000000\n\
      Post‐expand include size: 3169/2097152 bytes\nTemplate argument size: 1338/2097152\
      \ bytes\nHighest expansion depth: 3/40\nExpensive parser function count: 0/100\n\
      -->\n\n<!-- \nTransclusion expansion time report (%,ms,calls,template)\n100.00%\
      \  194.016      1 - -total\n  4.34%    8.420      5 - Template:Innerbox\n-->\n\
      \n<!-- Saved in parser cache with key wiki:pcache:idhash:2625-0!*!0!!en!*!*\
      \ and timestamp 20221118014816 and revision id 6261\n -->\n"
  categories:
  - sortkey: "Regen Mutator"
    name: "Legacy_Tutorial"
  links:
  - ns: 100
    exists: true
    name: "Legacy:UT2003"
  - ns: 100
    exists: true
    name: "Legacy:UT2004"
  - ns: 100
    exists: true
    name: "Legacy:Making Mods"
  - ns: 100
    exists: true
    name: "Legacy:UnrealScript Hello World"
  - ns: 100
    exists: false
    name: "Legacy:UTutes"
  - ns: 100
    exists: true
    name: "Legacy:Base Directory"
  - ns: 100
    exists: true
    name: "Legacy:Set Up Package Folders"
  - ns: 100
    exists: true
    name: "Legacy:Modify Mutator Tutorial"
  - ns: 100
    exists: true
    name: "Legacy:UnrealScript Lessons"
  - ns: 100
    exists: true
    name: "Legacy:Mutator Topics"
  - ns: 100
    exists: true
    name: "Legacy:UnrealScript"
  - ns: 100
    exists: true
    name: "Legacy:Compiling With UCC"
  - ns: 100
    exists: true
    name: "Legacy:Setting Up UnrealScript"
  - ns: 100
    exists: true
    name: "Legacy:INT File"
  - ns: 100
    exists: true
    name: "Legacy:Mutator"
  - ns: 100
    exists: true
    name: "Legacy:RegularX"
  templates:
  - ns: 10
    exists: true
    name: "Template:Innerbox"
  images: []
  externallinks: []
  sections:
  - toclevel: 1
    level: "2"
    line: "Make Your Own Package"
    number: "1"
    index: "1"
    fromtitle: "Legacy:Regen_Mutator"
    byteoffset: 506
    anchor: "Make_Your_Own_Package"
  - toclevel: 1
    level: "2"
    line: "Subclassing"
    number: "2"
    index: "2"
    fromtitle: "Legacy:Regen_Mutator"
    byteoffset: 1597
    anchor: "Subclassing"
  - toclevel: 2
    level: "3"
    line: "UT2003 only, for UT2004 read on, you will find the complete code in the\
      \ next paragraph."
    number: "2.1"
    index: "3"
    fromtitle: "Legacy:Regen_Mutator"
    byteoffset: 1614
    anchor: "UT2003_only.2C_for_UT2004_read_on.2C_you_will_find_the_complete_code_in_the_next_paragraph."
  - toclevel: 1
    level: "2"
    line: "Writing the script"
    number: "3"
    index: "4"
    fromtitle: "Legacy:Regen_Mutator"
    byteoffset: 2726
    anchor: "Writing_the_script"
  - toclevel: 2
    level: "3"
    line: "for UT2003"
    number: "3.1"
    index: "5"
    fromtitle: "Legacy:Regen_Mutator"
    byteoffset: 2750
    anchor: "for_UT2003"
  - toclevel: 2
    level: "3"
    line: "for UT2004"
    number: "3.2"
    index: "6"
    fromtitle: "Legacy:Regen_Mutator"
    byteoffset: 3735
    anchor: "for_UT2004"
  - toclevel: 1
    level: "2"
    line: "Compiling Your Script"
    number: "4"
    index: "7"
    fromtitle: "Legacy:Regen_Mutator"
    byteoffset: 4659
    anchor: "Compiling_Your_Script"
  - toclevel: 2
    level: "3"
    line: "for UT2003"
    number: "4.1"
    index: "8"
    fromtitle: "Legacy:Regen_Mutator"
    byteoffset: 4686
    anchor: "for_UT2003_2"
  - toclevel: 2
    level: "3"
    line: "for UT2004"
    number: "4.2"
    index: "9"
    fromtitle: "Legacy:Regen_Mutator"
    byteoffset: 6893
    anchor: "for_UT2004_2"
  - toclevel: 1
    level: "2"
    line: "Fire it Up"
    number: "5"
    index: "10"
    fromtitle: "Legacy:Regen_Mutator"
    byteoffset: 7136
    anchor: "Fire_it_Up"
  - toclevel: 1
    level: "2"
    line: "Related Topics"
    number: "6"
    index: "11"
    fromtitle: "Legacy:Regen_Mutator"
    byteoffset: 7812
    anchor: "Related_Topics"
  - toclevel: 1
    level: "2"
    line: "Comments"
    number: "7"
    index: "12"
    fromtitle: "Legacy:Regen_Mutator"
    byteoffset: 8253
    anchor: "Comments"
  displaytitle: "Legacy:Regen Mutator"
  iwlinks: []
  wikitext:
    text: "''This page is one of a series of [[Legacy:UnrealScript Lessons|UnrealScript\
      \ Lessons]].''\n\nPrevious tutorials: \n* You've set up your environment: [[Legacy:Setting\
      \ Up UnrealScript|Setting Up UnrealScript]]\n* You've made a simple text mutator:\
      \ [[Legacy:UnrealScript Hello World|UnrealScript Hello World]]\n\nThis page\
      \ is geared towards [[Legacy:UT2003|UT2003]] where needed notes are added for\
      \ [[Legacy:UT2004|UT2004]].\n\nNow we're going to make a [[Legacy:Mutator|mutator]]\
      \ that actually ''does something''. \n\n==Make Your Own Package==\n\nWhile some\
      \ editors don't require you to do this by hand, it's so easy it seems silly\
      \ not to. To [[Legacy:Set Up Package Folders|set up package folders]] that the\
      \ compiler will recognize, just create a new directory within the [[Legacy:Base\
      \ Directory|Base Directory]], named the same as your package e.g. \"MyPackage\"\
      . In it, make a subdirectory called \"Classes\":\n\n+ {Base Directory}\n\n++\
      \ MyPackage\n\n+++ Classes\n\nFinally, open your UT2003.ini (for UT2004 open\
      \ UT2004.ini) and find the list of \"EditPackages\". Add \"EditPackages=MyPackage\"\
      \ to the list. The compiler will now attempt to compile your package with the\
      \ rest. \n\n{{innerbox|Quicknote about the order of EditPackages - if you have\
      \ one package dependant on the other, the dependant package must come after\
      \ the other one. Notice how the first package in the list is \"Core\" \n\n}}\n\
      \nNow go to your command prompt, CD down to your {[[Legacy:Base Directory|Base\
      \ Directory]]}/System directory and type \n ucc make\n\nVoila! You get ... an\
      \ error! That's because your package is completely empty. Let's quickly fix\
      \ that. \n\n==Subclassing==\n\n===UT2003 only, for UT2004 read on, you will\
      \ find the complete code in the next paragraph.===\n\nGo into the directory\
      \ XGame/Classes and open the file \"MutRegen.uc\" with your editor of choice.\
      \ Resave this file into your own package's class directory as \"MutRegenPlus.uc.\"\
      \ Take care not to directly edit any of the classes that came with the game.\
      \ If you do, the package size will become invalid and you won't be able to play\
      \ online and you might possibly break the game itself.\n\nYour first step to\
      \ making MutRegen your own is changing the classname to match what you saved\
      \ the file as. So change: \n\n<uscript>\n//=============================================================================\n\
      // MutRegen - regenerates players\n//=============================================================================\n\
      class MutRegen extends Mutator;\n</uscript>\n\nto:\n\n<uscript>\n//=============================================================================\n\
      // MutRegenPlus - regenerates players plus!\n//=============================================================================\n\
      class MutRegenPlus extends Mutator;\n</uscript>\n\n==Writing the script==\n\n\
      ===for UT2003===\n\nYou should also go ahead and change the default properties\
      \ from:\n\n<uscript>\nGroupName=\"Regen\"\nFriendlyName=\"Regeneration\"\nDescription=\"\
      All players regenerate health.\"\n</uscript>\n\nto:\n\n<uscript>\nGroupName=\"\
      Regen\"\nFriendlyname=\"Regeneration Plus\"\nDescription=\"All players regenerate\
      \ health to superhealth limits.\"\n</uscript>\n\nNow what fun is modding if\
      \ you don't modify anything? Take the line down below that says: \n\n<uscript>\n\
      \tif (C.Pawn != None && C.Pawn.Health < C.Pawn.HealthMax )\n        {\n    \
      \        C.Pawn.Health = Min( C.Pawn.Health+RegenPerSecond, C.Pawn.HealthMax\
      \ );\n        }\n</uscript>\n\nAnd change it to: \n\n<uscript>\n        if (C.Pawn\
      \ != None && C.Pawn.Health < C.Pawn.HealthMax*2 )\n        {\n            C.Pawn.Health\
      \ = Min( C.Pawn.Health+RegenPerSecond, C.Pawn.HealthMax*2 );\n        }\n</uscript>\n\
      \nYou just altered the second variable of the Min function, which is essentially\
      \ the cap that can be returned.\n\nSave your file and prepare for compiling.\
      \ \n\n===for UT2004===\n\nFor UT2004 the \"MutRegen.uc\" does not exist, but\
      \ the code can be extracted from \"System/XGame.u\".\n\nHere you find the \"\
      Regeneration Plus\" (with modifications): \n\n<uscript>\n// MutRegenPlus - regenerates\
      \ players to superhealth\n//=============================================================================\n\
      class MutRegenPlus extends Mutator;\n\nvar() float RegenPerSecond;\n\n// Don't\
      \ call Actor PreBeginPlay() for Mutator \nevent PreBeginPlay()\n{\n    SetTimer(1.0,true);\n\
      }\n\nfunction Timer()\n{\n    local Controller C;\n\n    for (C = Level.ControllerList;\
      \ C != None; C = C.NextController)\n    {\n\tif (C.Pawn != None && C.Pawn.Health\
      \ < C.Pawn.HealthMax*2 )\n        {\n            C.Pawn.Health = Min( C.Pawn.Health+20,\
      \ C.Pawn.HealthMax*2 );\n        }\n    }\n}\n\ndefaultproperties\n{\n  GroupName=\"\
      Regen\"\n  Friendlyname=\"Regeneration Plus\"\n  Description=\"All players regenerate\
      \ health to superhealth limits.\"\n}\n</uscript>\n\n==Compiling Your Script==\n\
      \n===for UT2003===\n\nBefore you can compile you will need to make some changes\
      \ to your UT2003.ini file that's in your UT2003/System directory. Open the UT2003.ini\
      \ file and locate the list of of \"EditPackages\" under [Editor.EditorEngine].\
      \ Add your package to the end of that list (e.g. \"EditPackages=MyPackage\"\
      ).\n\n{{innerbox|Quicknote about the order of EditPackages - if you have one\
      \ package dependant on the other, the dependant package must come after the\
      \ other one. Notice how the first package in the list is \"Core.\" \n\n}}\n\n\
      Open up a command prompt, CD to your UT2003/System directory, and type \"ucc\
      \ make\" (see [[Legacy:Compiling With UCC|Compiling With UCC]]). You should\
      \ get something that looks like this:\n\n<uscript>\n-------------------------MyPackage\
      \ - Release--------------------------\nAnalyzing...\nParsing MutRegenPlus\n\
      Compiling MutRegenPlus\nImporting Defaults for MutRegenPlus\nSuccess - 0 error(s),\
      \ 0 warning(s)\n\nD:\\UT2003\\System>\n</uscript>\n\n{{innerbox|Quick note on\
      \ compiling - if you don't see the above, make sure the UT2003.ini file hasn't\
      \ been rewritten again without your EditPackages line it from a previous attempt\
      \ at compiling. If it has, make sure to close out of any programs which might\
      \ have opened it after putting it back in and recompiling. (This can happen\
      \ if you have UnrealED or UT2003 open while you edit the .ini file. As soon\
      \ as you quit either, they will overwrite your .ini with whatever was current\
      \ when they were launched.)\n\n}}\n\nThere should now be a .u file with your\
      \ package name on it in the UT2003/System directory. But, before you can see\
      \ your new codework in the game, there is another step you need to do. The code\
      \ is there, but you have to tell the game to see it. To do this, you'll need\
      \ to make an [[Legacy:INT File|INT file]] named after your package in the System\
      \ directory. This is a file which will describe to the engine the most basic\
      \ parts of your package. For now, just copy:\n\n<uscript>\n[Public]\nObject=(Class=Class,MetaClass=Engine.Mutator,Name=MyPackage.MutRegenPlus,Description=\"\
      Regeneration Plus\")\n</uscript>\n\nAnd save it into your package's .int file\
      \ (e.g. MyPackage.int).  If you make any other changes to your .uc script file,\
      \ recompile your code.\n\n===for UT2004===\n\nTo compile and create the UT2004\
      \ .int and .ucl files use:\n\n{{innerbox|ucc make\n\nucc dumpint MyPackage.u\n\
      \nucc exportcache MyPackage.u\n\n}}\n\nFor details on this see [[Legacy:UnrealScript\
      \ Hello World|UnrealScript Hello World]].\n\n==Fire it Up==\n\nGo ahead and\
      \ start up UT2003 or UT2004. Go into Instant Action. Select \"Regeneration Plus\"\
      \ into your mutator list, and watch as you regenerate to 200 health.\n\n{{innerbox|Quicknote\
      \ on changing this mute! Let's say you want to regenrate 300 health insted of\
      \ 200. You have already compiled your mutator. You can't just change the MutRegenPlus.uc\
      \ and ucc make. To change it go to your {[[Legacy:Base Directory|Base Directory]]}/System\
      \ directory. Delete MutRegenPlus.u and MutRegenPlus.ucl. Make the changes in\
      \ your MutRegenPlus.uc file and ucc make it!\n\n}}\n\n''This tutorial was originally\
      \ part of [[Legacy:RegularX|RegularX]]'s [[Legacy:UTutes|UTutes]] series.''\n\
      \n==Related Topics ==\n* [[Legacy:Modify Mutator Tutorial|Modify Mutator Tutorial]]\
      \ &ndash; your recommended next step\n* [[Legacy:UnrealScript Lessons|UnrealScript\
      \ Lessons]] &ndash; all the UnrealScript tutorials\n* [[Legacy:UnrealScript|UnrealScript]]\
      \ &ndash; all the reference pages\n* [[Legacy:Mutator Topics|Mutator Topics]]\
      \ &ndash; more on mutators\n* [[Legacy:Making Mods|Making Mods]] &ndash; more\
      \ on the organizational and social aspects\n\n==Comments==\n\n'''DaWrecka''':\
      \ Is there a reason this tutorial involves COPYING a source file, rather than\
      \ subclassing? I would've thought that with the [[Legacy:UnrealScript Hello\
      \ World|UnrealScript Hello World]] touching on inheritance, this would've been\
      \ a perfect place to expand on it a bit further. I know the next one goes into\
      \ it further but I don't see how using it here and explaining it in light depth\
      \ would hurt.\n\n'''CH3Z:''' DaWrecka, this is a very light tutorial as far\
      \ as code and programming concept goes. The intent of this tutorial is to give\
      \ a walkthrough of the whole proccess of setting up your environment, creating\
      \ a subclass and running it through the compiler, then creating the int file\
      \ so it can be used. This would not be the perfect place to get into the whole\
      \ concept of inheritance. You might want to visit one of the many pages here\
      \ on the wiki about Object Oriented Programming for more on that. Use the quickbar\
      \ on your left and start at \"UnrealScript Topics\". As far as COPYING the source\
      \ file, the author of this tutorial is trying have you use that file as a template\
      \ for the purpose of getting you through the process at hand. Once you've copied\
      \ it then you change the class declaration it becomes a new class. The class\
      \ that is being subclassed is Mutator, not MutRegen so its not like we're copying\
      \ a class instead of subclassing one. We copied one to use as a template, now\
      \ after we make that \"copy\" its own class via the declaration, we have a new\
      \ class that is a subclass of Mutator and therefore inherits Mutator's code.\
      \ Did you go through this tutorial? It would make more sense if you did. Maybe\
      \ this tut needs an introduction that explains its purpose and later explains\
      \ that we are copying MutRegen to use it as a template.\n\n'''Sweavo:''' in\
      \ my experience copying is often much simpler than subclassing, and is arguably\
      \ the right thing to do.  Subclassing is apropriate when you are sure you are\
      \ not going to break any of the behaviour of the superclass, e.g. if I subclass\
      \ the flak canon then all the existing code that tests for whether something\
      \ is a flak canon will pass when it runs on my weapon.  Looking at the UT script\
      \ code, most superclasses are abstract in the sense that they have been created\
      \ for the main purpose of getting subclassed: the firemodes for projectiles\
      \ and for instant hit, for instance, or ONSWheeledVehicle, ONSHoverVehicle etc\
      \ (names from memory).  Just because something is similar to something else\
      \ does not make it a subclass.  Ask yourself whether you're convinced the new\
      \ object will do ''everything'' the code wanted the superclass to do.\n\n'''Atlantis|TheKing:'''\
      \ UT2004 notes added.\n\n[[Category:Legacy Tutorial|{{PAGENAME}}]]"
  properties: []
  revId: 6261
name: "Legacy:Regen Mutator"
revision:
  revid: 6261
  parentid: 6262
  user: "Adsl-228-254.dsl.uva.nl"
  timestamp: 1142713471.000000000
  comment: "*"
timestamp: 1668764349.664027000
